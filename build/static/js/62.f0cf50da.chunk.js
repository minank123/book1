(this["webpackJsonpbookeinstein-app"]=this["webpackJsonpbookeinstein-app"]||[]).push([[62],{1132:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Y}));var c=n(4),i=n(7),o=n(0),s=n(21),a=n(954),r=n(54),l=n(173),d=n(750),b=n(289),u=n.n(b),j=n(96),O=n.n(j),h=n(43),f=n(85),p=n(34),v=n(64),g=n.n(v),m=n(38),x=n(140),y=n(740),P=n(898),N=n(158),C=n(741),k=n(899),S=n(20),T=n(343),w=n(900),D=n(119),E=n(1),z=m.d({pincode:m.f("Enter pincode here").required("Pincode is required")});function A(e){var t=e.isOpen,n=e.setOpen,c=e.id,i=Object(x.a)(),o=Object(s.b)(),r=Object(h.f)({mode:"onChange",resolver:Object(f.a)(z),defaultValues:{pincode:""}}),l=r.reset,d=r.handleSubmit,b=function(){n(!1),l()};return Object(E.jsx)("div",{children:Object(E.jsxs)(y.a,{open:t,classes:{paper:i.dialog},children:[Object(E.jsx)(P.a,{className:i.dialogTitle,children:Object(E.jsxs)("div",{className:i.dialogTitleChild,children:[Object(E.jsx)(N.a,{style:{fontSize:"20px"},children:" Add Pincode "}),Object(E.jsx)(C.a,{to:"#",onClick:b,children:Object(E.jsx)(g.a,{className:i.closeIcon})})]})}),Object(E.jsxs)(p.a,{methods:r,onSubmit:d((function(e){o(Object(a.b)(e.pincode,c,(function(){o(Object(a.f)(c)),b()})))})),children:[Object(E.jsx)(k.a,{children:Object(E.jsx)(S.a,{container:!0,children:Object(E.jsxs)(S.a,{item:!0,xs:12,children:[Object(E.jsxs)("label",{children:["Pincode ",Object(E.jsx)("span",{className:i.mandatory,children:"*"})]}),Object(E.jsx)(p.d,{name:"pincode",autoFocus:!0})]})})}),Object(E.jsx)(T.a,{style:{marginTop:15}}),Object(E.jsxs)(w.a,{className:i.dialogAction,children:[Object(E.jsx)(D.a,{variant:"outlined",color:"secondary",className:i.buttonCancel,onClick:b,children:"Close"}),Object(E.jsx)(D.a,{variant:"contained",type:"submit",className:i.buttonSubmit,children:"Add"})]})]})]})})}var I=n(290),L=n.n(I),M=n(40),R=n(62),Z=n(745),q=n(222),B=n(746),F=n(747),G=n(748),J=n(113),U=n(749),H=n(346),K=n(738),V=n(46),X=Object(d.a)((function(e){return{root:{"&:nth-of-type(even)":{backgroundColor:e.palette.action.hover}}}}))(Z.a);function Y(){var e=Object(R.a)();Object(V.a)({roleList:["ADMIN","SUPER_ADMIN"]});var t=Object(s.b)(),n=Object(M.i)().id,d=Object(o.useState)(""),b=Object(i.a)(d,2),j=b[0],h=(b[1],Object(o.useState)(!1)),f=Object(i.a)(h,2),p=f[0],v=f[1],g=Object(o.useState)(0),m=Object(i.a)(g,2),x=m[0],y=m[1],P=Object(o.useState)(25),N=Object(i.a)(P,2),C=N[0],k=N[1],T=Object(o.useState)({isOpen:!1,title:"",subTitle:""}),w=Object(i.a)(T,2),z=w[0],I=w[1],Z=Object(s.c)((function(e){return null===e||void 0===e?void 0:e.delivery})).allPincodes;return Object(o.useEffect)((function(){t(Object(a.f)(n,C,j||""))}),[C,j]),Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(r.a,{children:[Object(E.jsxs)("div",{className:e.titleContainer,children:[Object(E.jsx)(O.a,{className:e.viewIcon}),Object(E.jsx)("span",{className:e.pageTitle,children:"\xa0 Delivery Zones Details "})]}),Object(E.jsxs)(q.a,{elevation:5,className:e.root,children:[Object(E.jsx)(S.a,{style:{display:"flex",justifyContent:"flex-end"},children:Object(E.jsx)("div",{children:Object(E.jsxs)(D.a,{variant:"contained",color:"primary",onClick:function(){v(!0)},className:e.btnAddDeliveryPlan,children:[Object(E.jsx)(L.a,{})," Pincode"]})})}),Object(E.jsx)(B.a,{className:e.tableContainer,children:Object(E.jsxs)(F.a,{className:e.table,"aria-label":"simple table",children:[Object(E.jsx)(G.a,{className:e.tableHeaderCell,children:Object(E.jsxs)(X,{children:[Object(E.jsx)(J.a,{children:" Pincodes "}),Object(E.jsx)(J.a,{align:"right",children:" Action "})]})}),Z?Object(E.jsx)(U.a,{children:Z.slice(x*C,x*C+C).map((function(e,i){return Object(E.jsxs)(X,{children:[Object(E.jsx)(J.a,{children:e}),Object(E.jsx)(J.a,{align:"right",children:Object(E.jsx)(H.a,{onClick:function(){I({isOpen:!0,title:"Delete Pincode",subTitle:"Are you sure you want to delete this pincode?",onConfirm:function(){var i;i=e,t(Object(a.d)(n,i,(function(){t(Object(a.f)(n))}))),I(Object(c.a)(Object(c.a)({},z),{},{isOpen:!1}))}})},children:Object(E.jsx)(u.a,{color:"error",style:{cursor:"pointer"}})})})]},i)}))}):Object(E.jsx)("caption",{style:{textAlign:"center"},children:"Sorry! No data available"})]})}),Object(E.jsx)(K.a,{rowsPerPageOptions:[25,50,100],component:"div",count:null===Z||void 0===Z?void 0:Z.length,rowsPerPage:C,page:x,onPageChange:function(e,t){y(t)},onRowsPerPageChange:function(e){k(+e.target.value),y(0)},sx:{".MuiTablePagination-displayedRows":{marginBottom:0},".MuiTablePagination-selectLabel":{marginBottom:0}}})]}),p&&Object(E.jsx)(A,{isOpen:p,setOpen:v,id:n}),z&&Object(E.jsx)(l.a,{confirmDialog:z,setConfirmDialog:I})]})})}},954:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return j})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return O}));var c=n(11),i=n(9),o=n(5),s=function(e){return{type:o.eb,error:e}},a=function(e){return{type:o.Zb,error:e}},r=function(e,t,n){return function(o){try{Object(c.a)("https://prodservice.bookeinstein.com","POST","subscriptions-service/delivery-zones/".concat(t,"/pincodes/").concat(e),!0).then((function(e){o(Object(i.b)(null===e||void 0===e?void 0:e.message)),n&&n(e)})).catch((function(e){var t;o(Object(i.b)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message))}))}catch(s){console.log(s)}}},l=function(e,t){return function(n){try{Object(c.a)("https://prodservice.bookeinstein.com","POST","subscriptions-service/delivery-zones",e,!0).then((function(e){n(Object(i.b)(null===e||void 0===e?void 0:e.message)),t&&t(e)})).catch((function(e){console.log(e)}))}catch(o){console.log(o)}}},d=function(e,t,n){return function(o){try{Object(c.a)("https://prodservice.bookeinstein.com","PUT","subscriptions-service/delivery-zones/".concat(t),e,!0).then((function(e){e&&(o(Object(i.b)(null===e||void 0===e?void 0:e.message)),n&&n(e))})).catch((function(e){console.log(e)}))}catch(s){console.log(s)}}},b=function(e,t){return function(n){try{Object(c.a)("https://prodservice.bookeinstein.com","DELETE","subscriptions-service/delivery-zones/".concat(e),!0).then((function(e){n(Object(i.b)("Delivery zone deleted successfully")),t&&t(e)})).catch((function(e){console.log(e)}))}catch(o){console.log(o)}}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1";return function(a){a({type:o.fb});try{Object(c.a)("https://prodservice.bookeinstein.com","GET","subscriptions-service/delivery-zones?searchKey=".concat(t,"&pageNumber=").concat(n,"&pageSize=").concat(e),!0).then((function(e){a(function(e){return{type:o.gb,payload:e}}({allDeliveryZones:e}))})).catch((function(e){a(s(e)),a(Object(i.b)(null===e||void 0===e?void 0:e.message))}))}catch(r){a(s("Something went wrong"))}}},j=function(e){return function(t){t({type:o.Xb});try{Object(c.a)("https://prodservice.bookeinstein.com","GET","subscriptions-service/delivery-zones/".concat(e,"/pincodes"),!0).then((function(e){t(function(e){return{type:o.Yb,payload:e}}({allPincodes:e}))})).catch((function(e){t(a(e)),t(Object(i.b)(null===e||void 0===e?void 0:e.message))}))}catch(n){t(a("Something went wrong"))}}},O=function(e,t,n){return function(o){try{Object(c.a)("https://prodservice.bookeinstein.com","DELETE","subscriptions-service/delivery-zones/".concat(e,"/pincodes/").concat(t),!0).then((function(e){o(Object(i.b)("Pincode deleted successfully")),n&&n(e)})).catch((function(e){console.log(e)}))}catch(s){console.log(s)}}}}}]);
//# sourceMappingURL=62.f0cf50da.chunk.js.map