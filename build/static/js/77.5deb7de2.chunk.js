(this["webpackJsonpbookeinstein-app"]=this["webpackJsonpbookeinstein-app"]||[]).push([[77],{1022:function(e,t,n){"use strict";var i=n(45);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(n(50)),s=n(1),l=(0,c.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM9.5 8c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8zm6.5 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"GroupWork");t.default=l},1133:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return je}));var i=n(16),c=n(28),s=n(7),l=n(0),a=n(54),o=n(173),r=n(21),d=n(40),u=n(292),j=n(750),b=n(342),O=n(745),v=n(222),x=n(20),h=n(65),m=n(223),p=n(119),f=n(746),g=n(747),S=n(748),A=n(113),C=n(749),k=n(158),y=n(742),N=n(346),I=n(738),E=n(26),M=n(288),D=n.n(M),T=n(96),w=n.n(T),P=n(141),q=n.n(P),R=n(1022),V=n.n(R),z=n(24),U=n(43),L=n(85),F=n(34),H=n(38),_=n(64),B=n.n(_),G=n(120),J=n.n(G),W=n(740),Y=n(898),K=n(741),Q=n(899),X=n(343),Z=n(900),$=n(140),ee=n(183),te=n(326),ne=n(166),ie=n(1),ce=[{id:0,status:"ACTIVE"},{id:1,status:"INACTIVE"}],se=Object(z.a)(Array(13)).map((function(e,t){return{id:t+3,status:(t+3).toString()}})),le=Object(z.a)(Array(13)).map((function(e,t){return{id:t+3,status:(t+3).toString()}})),ae=H.d({title:H.f("Enter Course Title").required("Title is required"),languageId:H.f("Select language"),focusSkillIds:H.f("Select focus skill"),price:H.f("Enter Price").required("Price is required"),duration:H.c("Enter Module Duration").required("Module Duration Is Required").typeError("Duration must be a number"),sessionsCount:H.c("Enter total session").required("Session is required").typeError("Count must be a number"),description:H.f("Enter description").required("Description is required"),status:H.f("Enter status here").required("Status is required")});function oe(e){var t=e.openAddCourses,n=e.setOpenAddCourses,a=e.isEditData,o=e.focusSkillList,j=e.setFocusSkillList,b=e.skillSelected,O=Object($.a)(),v=Object(r.b)(),h=Object(d.i)().id,m=Object(l.useState)(b),f=Object(s.a)(m,2),g=f[0],S=f[1],A=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=5;break}return e.next=3,C(t);case 3:e.next=6;break;case 5:j([]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){C()}),[]);var C=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.f)(t).then((function(e){var t;console.log(e),j(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.content)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y={title:(null===a||void 0===a?void 0:a.title)||"",languageId:(null===a||void 0===a?void 0:a.languageId)||"",focusSkillIds:(null===a||void 0===a?void 0:a.focusSkillToAdd)||"",price:(null===a||void 0===a?void 0:a.price)||"",duration:(null===a||void 0===a?void 0:a.duration)||"",sessionsCount:(null===a||void 0===a?void 0:a.sessionsCount)||"",description:(null===a||void 0===a?void 0:a.description)||"",status:(null===a||void 0===a?void 0:a.status)||"INACTIVE",minAge:(null===a||void 0===a?void 0:a.minAge)||"",maxAge:(null===a||void 0===a?void 0:a.maxAge)||""};console.log("formInitialSchema",y);var N=Object(U.f)({mode:"onChange",resolver:Object(L.a)(ae),defaultValues:y}),I=N.reset,E=N.handleSubmit,M=function(){n(!1),I()},D=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Submit button clicked"),n={title:null===t||void 0===t?void 0:t.title,languageId:null===t||void 0===t?void 0:t.languageId,focusSkillIds:null===g||void 0===g?void 0:g.map((function(e){return null===e||void 0===e?void 0:e.id})),price:null===t||void 0===t?void 0:t.price,duration:null===t||void 0===t?void 0:t.duration,sessionsCount:null===t||void 0===t?void 0:t.sessionsCount,description:null===t||void 0===t?void 0:t.description,status:null===t||void 0===t?void 0:t.status,minAge:null===t||void 0===t?void 0:t.minAge,maxAge:null===t||void 0===t?void 0:t.maxAge},console.log("pay load===",n),!a){e.next=16;break}return e.prev=4,e.next=7,v(Object(u.A)(n,a.id));case 7:v(Object(u.n)(h)),M(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0);case 14:e.next=26;break;case 16:return e.prev=16,e.next=19,v(Object(u.c)(n,h));case 19:v(Object(u.n)(h)),M(),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(16),console.error(e.t1);case 26:case"end":return e.stop()}}),e,null,[[4,11],[16,23]])})));return function(t){return e.apply(this,arguments)}}(),T=Object(l.useState)([]),w=Object(s.a)(T,2),P=w[0],q=w[1],R=function(){var e=Object(c.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ee.b)().then((function(e){q(e.content)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){R()}),[]),Object(ie.jsx)("div",{children:Object(ie.jsxs)(W.a,{open:t,classes:{paper:O.dialog},children:[Object(ie.jsx)(Y.a,{className:O.dialogTitle,children:Object(ie.jsxs)("div",{className:O.dialogTitleChild,children:[Object(ie.jsx)(k.a,{style:{fontSize:"20px"},children:a?"Update Module":"Add Module"}),Object(ie.jsx)(K.a,{to:"#",onClick:M,children:Object(ie.jsx)(B.a,{className:O.closeIcon})})]})}),Object(ie.jsxs)(F.a,{methods:N,onSubmit:E(D),children:[Object(ie.jsx)(J.a,{className:O.ScrollHeight,children:Object(ie.jsx)(Q.a,{children:Object(ie.jsxs)(x.a,{container:!0,spacing:2,children:[Object(ie.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(ie.jsxs)("label",{children:["Title ",Object(ie.jsx)("span",{className:O.mandatory,children:"*"})]}),Object(ie.jsx)(F.d,{id:"title",name:"title",autoFocus:!0})]}),Object(ie.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(ie.jsxs)("label",{children:["Min Age ",Object(ie.jsx)("span",{className:O.mandatory,children:"*"})]}),Object(ie.jsxs)(F.c,{name:"minAge",label:"",children:[Object(ie.jsx)("option",{value:"",disabled:!0,children:"Select minimum age"}),null===se||void 0===se?void 0:se.map((function(e,t){return Object(ie.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.status},t)}))]})]}),Object(ie.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(ie.jsxs)("label",{children:["Max Age ",Object(ie.jsx)("span",{className:O.mandatory,children:"*"})]}),Object(ie.jsxs)(F.c,{name:"maxAge",label:"",children:[Object(ie.jsx)("option",{value:"",disabled:!0,children:"Select maximum age"}),null===le||void 0===le?void 0:le.map((function(e,t){return Object(ie.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.status},t)}))]})]}),Object(ie.jsx)("br",{})," ",Object(ie.jsx)("br",{}),Object(ie.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(ie.jsx)("label",{children:" Language "}),Object(ie.jsxs)(F.c,{name:"languageId",label:"",children:[Object(ie.jsx)("option",{value:"",children:" Choose a language "}),null===P||void 0===P?void 0:P.map((function(e,t){var n;return Object(ie.jsx)("option",{value:null===e||void 0===e?void 0:e.id,defaultValue:(null===e||void 0===e?void 0:e.id)===(null===P||void 0===P||null===(n=P.filter((function(e){return e.id===(null===a||void 0===a?void 0:a.languageId)}))[0])||void 0===n?void 0:n.id),children:null===e||void 0===e?void 0:e.name},t)}))]})]}),Object(ie.jsx)("br",{}),Object(ie.jsx)("br",{}),Object(ie.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(ie.jsx)("label",{children:" Focus Skill "}),Object(ie.jsx)(x.a,{children:Object(ie.jsx)(te.a,{id:"focusSkillIds",name:"focusSkillIds",values:o,handleSearch:A,getSelectedItems:function(e){S(e)},placeholder:"Search Focus Skill",defaultValue:g||""})})]}),Object(ie.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(ie.jsxs)("label",{children:["Price(\u20b9) ",Object(ie.jsx)("span",{className:O.mandatory,children:" * "})]}),Object(ie.jsx)(F.d,{id:"price",type:"number",name:"price",placeholder:"Enter module price here"})]}),Object(ie.jsx)("br",{})," ",Object(ie.jsx)("br",{}),Object(ie.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(ie.jsxs)("label",{children:["Duration(In Minutes) ",Object(ie.jsx)("span",{className:O.mandatory,children:"*"})]}),Object(ie.jsx)(F.d,{id:"duration",type:"number",name:"duration",placeholder:"Enter duration"})]}),Object(ie.jsx)("br",{})," ",Object(ie.jsx)("br",{}),Object(ie.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(ie.jsxs)("label",{children:["Sessions ",Object(ie.jsx)("span",{className:O.mandatory,children:" * "})]}),Object(ie.jsx)(F.d,{type:"number",id:"sessionsCount",name:"sessionsCount"})]}),Object(ie.jsx)("br",{})," ",Object(ie.jsx)("br",{}),Object(ie.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(ie.jsxs)("label",{children:["Description ",Object(ie.jsx)("span",{className:O.mandatory,children:" * "})]}),Object(ie.jsx)(F.d,{id:"description",name:"description"})]}),Object(ie.jsx)("br",{}),Object(ie.jsx)("br",{}),Object(ie.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(ie.jsxs)("label",{children:["Status ",Object(ie.jsx)("span",{className:O.mandatory,children:"*"})]}),Object(ie.jsx)(F.c,{name:"status",label:"",children:null===ce||void 0===ce?void 0:ce.map((function(e,t){return Object(ie.jsx)("option",{value:null===e||void 0===e?void 0:e.status,children:null===e||void 0===e?void 0:e.status},t)}))})]}),Object(ie.jsx)("br",{}),Object(ie.jsx)("br",{})]})})}),Object(ie.jsx)(X.a,{style:{marginTop:15}}),Object(ie.jsxs)(Z.a,{className:O.dialogAction,children:[Object(ie.jsx)(p.a,{variant:"outlined",color:"secondary",className:O.buttonCancel,onClick:M,children:"Close"}),Object(ie.jsx)(p.a,{variant:"contained",color:"secondary",type:"submit",className:O.buttonSubmit,children:a?"Update":"Add"})]})]})]})})}var re=n(62),de=n(46),ue=Object(j.a)((function(e){return{root:{"&:nth-of-type(even)":{backgroundColor:e.palette.action.hover}}}}))(O.a);function je(){var e=Object(re.a)();Object(de.a)({roleList:["ADMIN","TEACHER","SUPER_ADMIN"]});var t=Object(r.b)(),n=Object(r.c)((function(e){return null===e||void 0===e?void 0:e.userProfile})).loggedUserProfile,j=Object(d.g)(),O=Object(b.a)(),M=Object(d.i)().id,T=Object(l.useState)(!1),P=Object(s.a)(T,2),R=P[0],z=P[1],U=Object(l.useState)(""),L=Object(s.a)(U,2),F=(L[0],L[1]),H=Object(l.useState)(0),_=Object(s.a)(H,2),B=_[0],G=_[1],J=Object(l.useState)(10),W=Object(s.a)(J,2),Y=W[0],K=W[1],Q=Object(l.useState)({isOpen:!1,title:"",subTitle:""}),X=Object(s.a)(Q,2),Z=X[0],$=X[1],ee=Object(l.useState)(""),te=Object(s.a)(ee,2),ce=te[0],se=te[1],le=Object(l.useState)(null),ae=Object(s.a)(le,2),je=ae[0],be=ae[1],Oe=Object(l.useState)([]),ve=Object(s.a)(Oe,2),xe=ve[0],he=ve[1],me=Object(l.useState)([]),pe=Object(s.a)(me,2),fe=pe[0],ge=pe[1],Se=Object(r.c)((function(e){return null===e||void 0===e?void 0:e.course})).allModules,Ae=null===Se||void 0===Se?void 0:Se.content,Ce=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return be(t),n=[],e.next=4,Object(ne.f)().then((function(e){var i,c=null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.content;he(c),null===t||void 0===t||t.focusSkillIds.map((function(e){var t=c.find((function(t){return t.id===e})),i={id:e,title:null===t||void 0===t?void 0:t.title};n.push(i)})),ge(n),z(!0)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){t(Object(u.n)(M,"",Y,ce||"",B+1))}),[Y,ce,B]),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(a.a,{children:[Object(ie.jsxs)("div",{className:e.titleContainer,children:[Object(ie.jsx)(w.a,{className:e.viewIcon}),("ADMIN"===(null===n||void 0===n?void 0:n.role)||"SUPER_ADMIN"===(null===n||void 0===n?void 0:n.role))&&Object(ie.jsx)("span",{className:e.pageTitle,children:"\xa0 All Modules "}),"TEACHER"===(null===n||void 0===n?void 0:n.role)&&Object(ie.jsx)("span",{className:e.pageTitle,children:"\xa0 Your Modules "})]}),Object(ie.jsxs)(v.a,{elevation:5,className:e.root,children:[Object(ie.jsxs)(x.a,{className:e.titleStyle,xs:12,children:[Object(ie.jsx)(x.a,{item:!0,container:!0,children:Object(ie.jsx)(h.a,{className:e.searchControl,id:"input-search-header",onChange:function(e){return function(e){var t;se(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)}(e)},placeholder:"Search",startAdornment:Object(ie.jsx)(m.a,{position:"start",children:Object(ie.jsx)(E.U,{stroke:1.5,size:"1rem",className:e.startAdornment})})})}),("ADMIN"===(null===n||void 0===n?void 0:n.role)||"SUPER_ADMIN"===(null===n||void 0===n?void 0:n.role))&&Object(ie.jsx)(x.a,{item:!0,container:!0,style:{justifyContent:"flex-end"},children:Object(ie.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){z(!0),be(null),ge([])},className:e.btnAdd,children:"Add Module"})})]}),Object(ie.jsx)(f.a,{className:e.tableContainer,children:Object(ie.jsxs)(g.a,{className:e.table,"aria-label":"simple table",children:[Object(ie.jsx)(S.a,{className:e.tableHeaderCell,children:Object(ie.jsxs)(ue,{children:[Object(ie.jsx)(A.a,{children:" Title "}),Object(ie.jsx)(A.a,{children:" Description "}),"TEACHER"!==(null===n||void 0===n?void 0:n.role)&&Object(ie.jsx)(A.a,{align:"center",children:" Price "}),Object(ie.jsx)(A.a,{align:"center",children:" Duration(In Minutes) "}),Object(ie.jsx)(A.a,{align:"center",children:" Session Count "}),Object(ie.jsx)(A.a,{align:"center",children:" Status "}),Object(ie.jsx)(A.a,{align:"center",children:" MinAge "}),Object(ie.jsx)(A.a,{align:"center",children:" MaxAge "}),Object(ie.jsx)(A.a,{align:"right",children:" Action "})]})}),Ae?Object(ie.jsx)(C.a,{children:null===Ae||void 0===Ae?void 0:Ae.map((function(t,i){return Object(ie.jsxs)(ue,{children:[Object(ie.jsxs)(A.a,{children:[" ",null===t||void 0===t?void 0:t.title," "]}),Object(ie.jsxs)(A.a,{children:[" ",null===t||void 0===t?void 0:t.description," "]}),"TEACHER"!==(null===n||void 0===n?void 0:n.role)&&Object(ie.jsx)(A.a,{align:"center",children:null===t||void 0===t?void 0:t.price}),Object(ie.jsxs)(A.a,{align:"center",children:[" ",null===t||void 0===t?void 0:t.duration," "]}),Object(ie.jsxs)(A.a,{align:"center",children:[" ",null===t||void 0===t?void 0:t.sessionsCount," "]}),Object(ie.jsx)(A.a,{align:"center",children:Object(ie.jsx)(k.a,{className:e.status,style:{backgroundColor:"ACTIVE"===(null===t||void 0===t?void 0:t.status)&&O.palette.success.main||"PENDING"===(null===t||void 0===t?void 0:t.status)&&"blue"||"INACTIVE"===(null===t||void 0===t?void 0:t.status)&&O.palette.warning.dark},children:null===t||void 0===t?void 0:t.status})}),Object(ie.jsxs)(A.a,{align:"center",children:[" ",null===t||void 0===t?void 0:t.minAge," "]}),Object(ie.jsxs)(A.a,{align:"center",children:[" ",null===t||void 0===t?void 0:t.maxAge," "]}),Object(ie.jsxs)(A.a,{align:"right",children:[("ADMIN"===(null===n||void 0===n?void 0:n.role)||"SUPER_ADMIN"===(null===n||void 0===n?void 0:n.role))&&Object(ie.jsx)(y.a,{title:"Update Module",children:Object(ie.jsx)(N.a,{onClick:function(){return Ce(t)},children:Object(ie.jsx)(D.a,{color:"success",style:{cursor:"pointer"}})})}),Object(ie.jsx)(y.a,{title:"View Module Detail",children:Object(ie.jsx)(N.a,{onClick:function(){return function(e){F(e),j.push("/admin/modules/".concat(e))}(null===t||void 0===t?void 0:t.id)},children:Object(ie.jsx)(q.a,{color:"primary",fontSize:"small",style:{cursor:"pointer"}})})}),Object(ie.jsx)(y.a,{title:"View Sessions",children:Object(ie.jsx)(N.a,{onClick:function(){return function(e){F(e),j.push("/admin/course/module/".concat(e))}(null===t||void 0===t?void 0:t.id)},children:Object(ie.jsx)(q.a,{color:"primary",fontSize:"small",style:{cursor:"pointer"}})})}),Object(ie.jsx)(y.a,{title:"View Batches",children:Object(ie.jsx)(N.a,{onClick:function(){return function(e){j.push("/admin/module/".concat(e,"/batch"))}(null===t||void 0===t?void 0:t.id)},children:Object(ie.jsx)(V.a,{color:"primary",fontSize:"small",style:{cursor:"pointer"}})})})]})]},i)}))}):Object(ie.jsx)("caption",{style:{textAlign:"center"},children:"Sorry! No data available"})]})}),Object(ie.jsx)(I.a,{rowsPerPageOptions:[10,15,25],component:"div",count:(null===Se||void 0===Se?void 0:Se.totalElements)||0,rowsPerPage:Y,page:B,onPageChange:function(e,t){G(t)},onRowsPerPageChange:function(e){K(+e.target.value)},sx:{".MuiTablePagination-displayedRows":{marginBottom:0},".MuiTablePagination-selectLabel":{marginBottom:0}}})]}),R&&Object(ie.jsx)(oe,{openAddCourses:R,setOpenAddCourses:z,isEditData:je,focusSkillList:xe,setFocusSkillList:he,skillSelected:fe}),Z&&Object(ie.jsx)(o.a,{confirmDialog:Z,setConfirmDialog:$})]})})}}}]);
//# sourceMappingURL=77.5deb7de2.chunk.js.map