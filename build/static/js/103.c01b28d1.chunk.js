(this["webpackJsonpbookeinstein-app"]=this["webpackJsonpbookeinstein-app"]||[]).push([[103],{1129:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return K}));var n=i(7),a=i(0),s=i(54),c=i(21),l=i(174),r=i(750),o=i(342),d=i(745),j=i(222),u=i(20),b=i(119),O=i(746),x=i(747),h=i(748),v=i(113),p=i(749),m=i(158),g=i(742),f=i(346),y=i(738),P=i(288),N=i.n(P),A=i(96),I=i.n(A),S=i(62),C=i(43),M=i(38),k=i(85),T=i(64),E=i.n(T),q=i(140),D=i(226),R=i(34),w=i(740),L=i(898),U=i(741),W=i(899),V=i(343),_=i(900),Y=i(1),F=[{id:0,status:"TRIAL"},{id:1,status:"QUARTERLY"},{id:2,status:"HALF_YEARLY"},{id:3,status:"YEARLY "}],H=[{id:0,status:"ACTIVE"},{id:1,status:"INACTIVE"}],B=M.d({price:M.c().required("Price is required"),type:M.f().required("Type is required"),durationInMonths:M.f().required("Duration is required").matches(/^[1-9]\d*$/),maxPauseWeeks:M.f().required("Status is required"),status:M.f().required("Status is required")}),J=M.d({price:M.c().typeError("Price must be a number").required("Price is required"),type:M.f().required("Type is required"),status:M.f().required("Status is required")});function z(e){var t=e.isOpen,i=e.setOpen,n=e.isEditData,s=e.id,r=Object(q.a)(),o=Object(c.b)(),d=(Object(c.c)((function(e){return null===e||void 0===e?void 0:e.school})).schoolList,{price:(null===n||void 0===n?void 0:n.price.toString())||"",type:(null===n||void 0===n?void 0:n.type)||"",durationInMonths:(null===n||void 0===n?void 0:n.durationInMonths.toString())||"",maxPauseWeeks:(null===n||void 0===n?void 0:n.maxPauseWeeks.toString())||"",status:(null===n||void 0===n?void 0:n.status)||"ACTIVE"}),j=Object(C.f)({mode:"onChange",resolver:n?Object(k.a)(B):Object(k.a)(J),defaultValues:d}),O=j.reset,x=j.handleSubmit,h=(j.watch,function(){i(!1),O()});return Object(a.useEffect)((function(){o(Object(D.f)())}),[]),Object(Y.jsx)("div",{children:Object(Y.jsxs)(w.a,{open:t,classes:{paper:r.dialog},children:[Object(Y.jsx)(L.a,{className:r.dialogTitle,children:Object(Y.jsxs)("div",{className:r.dialogTitleChild,children:[Object(Y.jsx)(m.a,{style:{fontSize:"20px"},children:n?"Update Plan Option":"Add Plan Option"}),Object(Y.jsx)(U.a,{to:"#",onClick:h,children:Object(Y.jsx)(E.a,{className:r.closeIcon})})]})}),Object(Y.jsxs)(R.a,{methods:j,onSubmit:x((function(e){var t={price:null===e||void 0===e?void 0:e.price,type:null===e||void 0===e?void 0:e.type,status:null===e||void 0===e?void 0:e.status},i={price:null===e||void 0===e?void 0:e.price,durationInMonths:null===e||void 0===e?void 0:e.durationInMonths,maxPauseWeeks:null===e||void 0===e?void 0:e.maxPauseWeeks,status:null===e||void 0===e?void 0:e.status};o(n?Object(l.u)(i,n.id,(function(){o(Object(l.m)(s)),h()})):Object(l.b)(t,s,(function(){o(Object(l.m)(s)),h()})))})),children:[Object(Y.jsx)(W.a,{children:Object(Y.jsxs)(u.a,{container:!0,rowSpacing:2,children:[Object(Y.jsxs)(u.a,{item:!0,xs:12,children:[Object(Y.jsxs)("label",{children:["Price ",Object(Y.jsx)("span",{className:r.mandatory,children:" * "})]}),Object(Y.jsx)(R.d,{name:"price",type:"number"})]}),n?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(u.a,{item:!0,xs:12,children:[Object(Y.jsxs)("label",{children:["Duration (Months) ",Object(Y.jsx)("span",{className:r.mandatory,children:"*"})]}),Object(Y.jsx)(R.d,{name:"durationInMonths",type:"number"})]}),Object(Y.jsxs)(u.a,{item:!0,xs:12,children:[Object(Y.jsxs)("label",{children:["Pause Weeks (Max) ",Object(Y.jsx)("span",{className:r.mandatory,children:"*"})]}),Object(Y.jsx)(R.d,{name:"maxPauseWeeks",type:"number"})]})]}):Object(Y.jsxs)(u.a,{item:!0,xs:12,children:[Object(Y.jsxs)("label",{children:["Type ",Object(Y.jsx)("span",{className:r.mandatory,children:"*"})]}),Object(Y.jsxs)(R.c,{name:"type",label:"",children:[Object(Y.jsx)("option",{value:"",children:" Select Type "}),null===F||void 0===F?void 0:F.map((function(e,t){return Object(Y.jsx)("option",{value:null===e||void 0===e?void 0:e.status,children:null===e||void 0===e?void 0:e.status},t)}))]})]}),Object(Y.jsxs)(u.a,{item:!0,xs:12,children:[Object(Y.jsxs)("label",{children:["Status ",Object(Y.jsx)("span",{className:r.mandatory,children:" * "})]}),Object(Y.jsx)(R.c,{name:"status",label:"",children:null===H||void 0===H?void 0:H.map((function(e,t){return Object(Y.jsx)("option",{value:null===e||void 0===e?void 0:e.status,children:null===e||void 0===e?void 0:e.status},t)}))})]})]})}),Object(Y.jsx)(V.a,{style:{marginTop:15}}),Object(Y.jsxs)(_.a,{className:r.dialogAction,children:[Object(Y.jsx)(b.a,{variant:"outlined",color:"secondary",className:r.buttonCancel,onClick:h,children:"Close"}),Object(Y.jsx)(b.a,{variant:"contained",type:"submit",className:r.buttonSubmit,children:n?"Update":"Add"})]})]})]})})}var Q=i(40),$=i(46),G=Object(r.a)((function(e){return{root:{"&:nth-of-type(even)":{backgroundColor:e.palette.action.hover}}}}))(d.a);function K(){var e=Object(S.a)();Object($.a)({roleList:["ADMIN","SCHOOL_ADMIN","SUPER_ADMIN"]});var t=Object(c.c)((function(e){return null===e||void 0===e?void 0:e.userProfile})).loggedUserProfile,i=Object(o.a)(),r=Object(Q.i)().id,d=Object(c.b)(),P=Object(a.useState)(""),A=Object(n.a)(P,2),C=A[0],M=(A[1],Object(a.useState)(!1)),k=Object(n.a)(M,2),T=k[0],E=k[1],q=Object(a.useState)(0),D=Object(n.a)(q,2),R=D[0],w=D[1],L=Object(a.useState)(25),U=Object(n.a)(L,2),W=U[0],V=U[1],_=Object(a.useState)(null),F=Object(n.a)(_,2),H=F[0],B=F[1],J=Object(c.c)((function(e){return null===e||void 0===e?void 0:e.subscriptions})).allPlanOptions;return Object(a.useEffect)((function(){d(Object(l.m)(r,W,C||""))}),[W,C]),Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)(s.a,{children:[Object(Y.jsxs)("div",{className:e.titleContainer,children:[Object(Y.jsx)(I.a,{className:e.viewIcon}),Object(Y.jsx)("span",{className:e.pageTitle,children:"\xa0Plan Options "})]}),Object(Y.jsxs)(j.a,{elevation:5,className:e.root,children:[Object(Y.jsx)(u.a,{style:{display:"flex",justifyContent:"flex-end"},children:Object(Y.jsx)("div",{children:("ADMIN"===(null===t||void 0===t?void 0:t.role)||"SUPER_ADMIN"===(null===t||void 0===t?void 0:t.role))&&Object(Y.jsx)(b.a,{variant:"contained",color:"primary",onClick:function(){E(!0),B(null)},className:e.btnAdd,children:"Add Plan Options"})})}),Object(Y.jsx)(O.a,{className:e.tableContainer,children:Object(Y.jsxs)(x.a,{className:e.table,"aria-label":"simple table",children:[Object(Y.jsx)(h.a,{className:e.tableHeaderCell,children:Object(Y.jsxs)(G,{children:[Object(Y.jsx)(v.a,{children:" Price "}),Object(Y.jsx)(v.a,{align:"center",children:" Duration (Month) "}),Object(Y.jsx)(v.a,{align:"center",children:" Type "}),Object(Y.jsx)(v.a,{align:"center",children:" Pause Weeks (Max) "}),Object(Y.jsx)(v.a,{align:"center",children:" Status "}),("ADMIN"===(null===t||void 0===t?void 0:t.role)||"SUPER_ADMIN"===(null===t||void 0===t?void 0:t.role))&&Object(Y.jsx)(v.a,{align:"right",children:" Action "})]})}),J?Object(Y.jsx)(p.a,{children:J.slice(R*W,R*W+W).map((function(n){return Object(Y.jsxs)(G,{children:[Object(Y.jsx)(v.a,{children:n.price}),Object(Y.jsx)(v.a,{align:"center",children:n.durationInMonths}),Object(Y.jsx)(v.a,{align:"center",children:n.type}),Object(Y.jsx)(v.a,{align:"center",children:n.maxPauseWeeks}),Object(Y.jsx)(v.a,{align:"center",children:Object(Y.jsx)(m.a,{className:e.status,style:{backgroundColor:"ACTIVE"===(null===n||void 0===n?void 0:n.status)&&i.palette.success.main||"INACTIVE"===(null===n||void 0===n?void 0:n.status)&&i.palette.warning.dark},children:null===n||void 0===n?void 0:n.status})}),("ADMIN"===(null===t||void 0===t?void 0:t.role)||"SUPER_ADMIN"===(null===t||void 0===t?void 0:t.role))&&Object(Y.jsx)(v.a,{align:"right",children:Object(Y.jsx)(g.a,{title:"Update Plan Options",children:Object(Y.jsx)(f.a,{onClick:function(){return function(e){E(!0),B(e)}(n)},children:Object(Y.jsx)(N.a,{color:"primary",style:{cursor:"pointer"}})})})})]},n.id)}))}):Object(Y.jsx)("caption",{style:{textAlign:"center"},children:"Sorry! No data available"})]})}),Object(Y.jsx)(y.a,{rowsPerPageOptions:[25,50,100],component:"div",count:null===J||void 0===J?void 0:J.length,rowsPerPage:W,page:R,onPageChange:function(e,t){w(t)},onRowsPerPageChange:function(e){V(+e.target.value),w(0)},sx:{".MuiTablePagination-displayedRows":{marginBottom:0},".MuiTablePagination-selectLabel":{marginBottom:0}}})]}),T&&Object(Y.jsx)(z,{isOpen:T,setOpen:E,isEditData:H,id:r})]})})}}}]);
//# sourceMappingURL=103.c01b28d1.chunk.js.map