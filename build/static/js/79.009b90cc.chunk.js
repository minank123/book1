(this["webpackJsonpbookeinstein-app"]=this["webpackJsonpbookeinstein-app"]||[]).push([[79],{1113:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ve}));var i=n(4),a=n(7),c=n(0),s=n(54),o=n(173),l=n(21),r=n(40),d=n(292),u=n(750),j=n(342),b=n(745),m=n(222),v=n(20),O=n(65),h=n(223),p=n(119),x=n(746),f=n(747),g=n(748),y=n(113),C=n(749),A=n(158),N=n(742),w=n(346),S=n(738),T=n(26),k=n(288),E=n.n(k),I=n(96),P=n.n(I),D=n(141),M=n.n(D),U=n(16),R=n(28),q=n(38),F=n(85),G=n(43),V=n(740),z=n(898),H=n(741),W=n(899),_=n(343),L=n(900),B=n(34),J=n(64),Y=n.n(J),K=n(140),Q=n(921),X=n(11),Z=function(e){return new Promise((function(t,n){Object(X.a)("https://prodservice.bookeinstein.com","POST","subscriptions-service/courses",e,!0,{"content-type":"multipart/form-data",accept:"*/*"},{}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},$=function(e,t){return new Promise((function(n,i){Object(X.a)("https://prodservice.bookeinstein.com","PUT","subscriptions-service/courses/".concat(t),e,!0,{"content-type":"multipart/form-data",accept:"*/*"},{}).then((function(e){n(e)})).catch((function(e){i(e)}))}))},ee=n(9),te=n(120),ne=n.n(te),ie=n(1),ae=[{id:0,status:"ACTIVE"},{id:1,status:"INACTIVE"}],ce=[{id:2,status:"3"},{id:3,status:"4"},{id:4,status:"5"},{id:5,status:"6"},{id:6,status:"7"},{id:7,status:"8"},{id:8,status:"9"},{id:9,status:"10"},{id:10,status:"11"},{id:11,status:"12"},{id:12,status:"13"},{id:13,status:"14"},{id:14,status:"15"}],se=[{id:2,status:"3"},{id:3,status:"4"},{id:4,status:"5"},{id:5,status:"6"},{id:6,status:"7"},{id:7,status:"8"},{id:8,status:"9"},{id:9,status:"10"},{id:10,status:"11"},{id:11,status:"12"},{id:12,status:"13"},{id:13,status:"14"},{id:14,status:"15"}],oe=q.d({title:q.f("Enter Title").required("Title is required").trim(),description:q.f().optional().trim(),minAge:q.c().min(3).max(15).required("Min age is required"),maxAge:q.c().moreThan(q.e("minAge")).required("Max age is required"),status:q.f("Choose Status").required("Status is required")});function le(e){var t=Object(c.useState)(null),n=Object(a.a)(t,2),i=n[0],s=n[1],o=e.isOpen,u=e.setOpen,j=e.isEditData,b=e.handleFetchCourses,m=Object(c.useState)(),O=Object(a.a)(m,2),h=O[0],x=O[1],f=(Object(r.i)().id,Object(K.a)()),g=Object(l.b)(),y=(Object(r.h)(),Object(l.c)((function(e){return null===e||void 0===e?void 0:e.userProfile})).loggedUserProfile,{title:(null===j||void 0===j?void 0:j.title)||"",description:(null===j||void 0===j?void 0:j.description)||"",minAge:(null===j||void 0===j?void 0:j.minAge)||3,maxAge:(null===j||void 0===j?void 0:j.maxAge)||15,status:(null===j||void 0===j?void 0:j.status)||"ACTIVE"}),C=Object(G.f)({mode:"onChange",resolver:Object(F.a)(oe),defaultValues:y}),N=C.reset,w=C.handleSubmit,S=function(){u(!1),N()},T=function(e){var t,n;x(URL.createObjectURL(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.files[0])),s(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.files[0])};return Object(c.useEffect)((function(){g(Object(d.t)())}),[]),Object(c.useEffect)((function(){j&&(x(null===j||void 0===j?void 0:j.imageUrl),fetch(null===j||void 0===j?void 0:j.imageUrl,{mode:"no-cors"}).then(function(){var e=Object(R.a)(Object(U.a)().mark((function e(t){var n,i;return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.headers.get("content-type"),e.next=3,t.blob();case 3:i=e.sent,new File([i],"updatedImage.jpg",{contentType:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[]),Object(ie.jsx)("div",{children:Object(ie.jsxs)(V.a,{open:o,classes:{paper:f.dialog},children:[Object(ie.jsx)(z.a,{className:f.dialogTitle,children:Object(ie.jsxs)("div",{className:f.dialogTitleChild,children:[Object(ie.jsx)(A.a,{style:{fontSize:"20px"},children:j?"Update Course":"Add Course"}),Object(ie.jsx)(H.a,{to:"#",onClick:S,children:Object(ie.jsx)(Y.a,{className:f.closeIcon})})]})}),Object(ie.jsxs)(B.a,{methods:C,onSubmit:w((function(e){var t={title:null===e||void 0===e?void 0:e.title,description:null===e||void 0===e?void 0:e.description,minAge:null===e||void 0===e?void 0:e.minAge,maxAge:null===e||void 0===e?void 0:e.maxAge,status:null===e||void 0===e?void 0:e.status},n=new FormData;(null===i||void 0===i?void 0:i.size)>0&&n.append("image",i),n.append("courseBody ",JSON.stringify(t)),j?($(n,null===j||void 0===j?void 0:j.id).then((function(e){g(Object(ee.b)(null!==e&&void 0!==e&&e.message?null===e||void 0===e?void 0:e.message:"Course Updated Successfully")),b(),"caches"in window&&(caches.keys().then((function(e){e.forEach((function(e){caches.delete(e)}))})),window.location.reload(!0))})).catch((function(e){var t,n;console.log(e),g(Object(ee.b)(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.message?null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message:"Something Went Wrong"))})),S()):(Z(n).then((function(e){g(Object(ee.b)(null!==e&&void 0!==e&&e.message?null===e||void 0===e?void 0:e.message:"Course Added Successfully")),g(Object(d.t)())})).catch((function(e){var t,n;g(Object(ee.b)(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.message?null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message:"Something Went Wrong"))})),S())})),children:[Object(ie.jsx)(ne.a,{className:f.ScrollHeight,children:Object(ie.jsxs)(W.a,{children:[Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("label",{className:f.label,children:["Course Image ",Object(ie.jsx)("span",{className:f.mandatory,children:"*"})]}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("label",{htmlFor:"upload",children:Object(ie.jsx)(Q.a,{color:"secondary","aria-label":"upload picture",component:"span",children:Object(ie.jsx)("img",{id:"ImageCover",src:h,className:f.img,style:{height:"200px",width:"200px"}})})}),Object(ie.jsx)("label",{htmlFor:"bookCover"})]}),Object(ie.jsx)("div",{children:j?Object(ie.jsx)("input",{type:"file",onChange:T,id:"upload",name:"image",accept:"image/*",className:f.imageInput}):Object(ie.jsx)("input",{type:"file",onChange:T,id:"upload",name:"image",accept:"image/*",className:f.imageInput,required:!0})})]}),Object(ie.jsx)(v.a,{container:!0,children:Object(ie.jsxs)(v.a,{item:!0,xs:12,children:[Object(ie.jsxs)("label",{children:["Course Title ",Object(ie.jsx)("span",{className:f.mandatory,children:"*"})]}),Object(ie.jsx)(B.d,{name:"title",placeholder:"Title"}),Object(ie.jsx)("br",{})," ",Object(ie.jsx)("br",{}),Object(ie.jsx)("label",{children:" Course Description "}),Object(ie.jsx)(B.d,{name:"description",placeholder:"Description"}),Object(ie.jsx)("br",{})," ",Object(ie.jsx)("br",{}),Object(ie.jsxs)("label",{children:["Min Age ",Object(ie.jsx)("span",{className:f.mandatory,children:"*"})]}),Object(ie.jsxs)(B.c,{name:"minAge",label:"",children:[Object(ie.jsx)("option",{value:"",disabled:!0,children:"Select minimum age"}),null===ce||void 0===ce?void 0:ce.map((function(e,t){return Object(ie.jsx)("option",{value:null===e||void 0===e?void 0:e.status,children:null===e||void 0===e?void 0:e.status},t)}))]}),Object(ie.jsx)("br",{})," ",Object(ie.jsx)("br",{}),Object(ie.jsxs)("label",{children:["Max Age ",Object(ie.jsx)("span",{className:f.mandatory,children:"*"})]}),Object(ie.jsxs)(B.c,{name:"maxAge",label:"",children:[Object(ie.jsx)("option",{value:"",disabled:!0,children:"Select maximum age"}),null===se||void 0===se?void 0:se.map((function(e,t){return Object(ie.jsx)("option",{value:null===e||void 0===e?void 0:e.status,children:null===e||void 0===e?void 0:e.status},t)}))]}),Object(ie.jsx)("br",{})," ",Object(ie.jsx)("br",{}),Object(ie.jsxs)("label",{children:["Status ",Object(ie.jsx)("span",{className:f.mandatory,children:"*"})]}),Object(ie.jsx)(B.c,{name:"status",label:"",children:null===ae||void 0===ae?void 0:ae.map((function(e,t){return Object(ie.jsx)("option",{value:null===e||void 0===e?void 0:e.status,children:null===e||void 0===e?void 0:e.status},t)}))})]})})]})}),Object(ie.jsx)(_.a,{style:{marginTop:15}}),Object(ie.jsxs)(L.a,{className:f.dialogAction,children:[Object(ie.jsx)(p.a,{variant:"outlined",color:"secondary",className:f.buttonCancel,onClick:S,children:"Close"}),Object(ie.jsx)(p.a,{variant:"contained",color:"secondary",type:"submit",className:f.buttonSubmit,children:j?"Update":"Add"})]})]})]})})}var re=n(62),de=n(46),ue=n(993),je=n(289),be=n.n(je),me=Object(u.a)((function(e){return{root:{"&:nth-of-type(even)":{backgroundColor:e.palette.action.hover}}}}))(b.a);function ve(){var e=Object(re.a)();Object(de.a)({roleList:["ADMIN","TEACHER","SUPER_ADMIN"]});var t=Object(l.b)(),n=Object(l.c)((function(e){return null===e||void 0===e?void 0:e.userProfile})).loggedUserProfile,u=Object(r.g)(),b=Object(j.a)(),k=Object(c.useState)(!1),I=Object(a.a)(k,2),D=I[0],U=I[1],R=Object(c.useState)(""),q=Object(a.a)(R,2),F=(q[0],q[1]),G=Object(c.useState)(0),V=Object(a.a)(G,2),z=V[0],H=V[1],W=Object(c.useState)(25),_=Object(a.a)(W,2),L=_[0],B=_[1],J=Object(c.useState)({isOpen:!1,title:"",subTitle:""}),Y=Object(a.a)(J,2),K=Y[0],Q=Y[1],X=Object(c.useState)(""),Z=Object(a.a)(X,2),$=Z[0],ee=Z[1],te=Object(c.useState)(null),ne=Object(a.a)(te,2),ae=ne[0],ce=ne[1],se=Object(l.c)((function(e){return null===e||void 0===e?void 0:e.course})).allCourses,oe=null===se||void 0===se?void 0:se.content,je=null===se||void 0===se?void 0:se.totalElements,ve=function(){t(Object(d.t)($||"",z+1,L))};return Object(c.useEffect)((function(){ve()}),[$,z,L]),Object(ie.jsxs)(ie.Fragment,{children:["TEACHER"===(null===n||void 0===n?void 0:n.role)&&Object(ie.jsx)(ue.a,{}),Object(ie.jsxs)(s.a,{children:[Object(ie.jsxs)("div",{className:e.titleContainer,children:[Object(ie.jsx)(P.a,{className:e.viewIcon}),("ADMIN"===(null===n||void 0===n?void 0:n.role)||"SUPER_ADMIN"===(null===n||void 0===n?void 0:n.role))&&Object(ie.jsx)("span",{className:e.pageTitle,children:"\xa0 All Courses "}),"TEACHER"===(null===n||void 0===n?void 0:n.role)&&Object(ie.jsx)("span",{className:e.pageTitle,children:"\xa0 Your Courses "})]}),Object(ie.jsxs)(m.a,{elevation:5,className:e.root,children:[Object(ie.jsxs)(v.a,{container:!0,spacing:3,style:{display:"flex",justifyContent:"space-between"},children:[Object(ie.jsx)(v.a,{item:!0,xs:12,sm:6,md:6,children:Object(ie.jsx)(O.a,{className:e.searchControl,id:"input-search-header",onChange:function(e){return function(e){ee(e.target.value)}(e)},placeholder:"Search",startAdornment:Object(ie.jsx)(h.a,{position:"start",children:Object(ie.jsx)(T.U,{stroke:1.5,size:"1rem",className:e.startAdornment})})})}),("ADMIN"===(null===n||void 0===n?void 0:n.role)||"SUPER_ADMIN"===(null===n||void 0===n?void 0:n.role))&&Object(ie.jsx)(v.a,{item:!0,xs:12,sm:6,md:6,children:Object(ie.jsx)("div",{className:e.btn,children:Object(ie.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){U(!0),ce(null)},className:e.btnAdd,children:"Add Course"})})})]}),Object(ie.jsx)(x.a,{className:e.tableContainer,children:Object(ie.jsxs)(f.a,{className:e.table,"aria-label":"simple table",children:[Object(ie.jsx)(g.a,{className:e.tableHeaderCell,children:Object(ie.jsxs)(me,{children:[Object(ie.jsx)(y.a,{align:"center",children:" Image "}),Object(ie.jsx)(y.a,{children:" Title "}),Object(ie.jsx)(y.a,{children:" Description "}),Object(ie.jsx)(y.a,{align:"center",children:" Age Group "}),Object(ie.jsx)(y.a,{align:"center",children:" Status "}),Object(ie.jsx)(y.a,{align:"center",children:" Action "})]})}),se?Object(ie.jsx)(C.a,{children:null===oe||void 0===oe?void 0:oe.map((function(a,c){return Object(ie.jsxs)(me,{children:[Object(ie.jsx)(y.a,{align:"center",children:Object(ie.jsx)("img",{src:null===a||void 0===a?void 0:a.imageUrl,width:"40px",height:"40px"})}),Object(ie.jsxs)(y.a,{children:[" ",null===a||void 0===a?void 0:a.title," "]}),Object(ie.jsxs)(y.a,{children:[" ",null===a||void 0===a?void 0:a.description," "]}),Object(ie.jsxs)(y.a,{align:"center",children:[null===a||void 0===a?void 0:a.minAge,"-",null===a||void 0===a?void 0:a.maxAge]}),Object(ie.jsx)(y.a,{align:"center",children:Object(ie.jsx)(A.a,{className:e.status,style:{backgroundColor:"ACTIVE"===(null===a||void 0===a?void 0:a.status)&&b.palette.success.main||"PENDING"===(null===a||void 0===a?void 0:a.status)&&"blue"||"INACTIVE"===(null===a||void 0===a?void 0:a.status)&&b.palette.warning.dark},children:null===a||void 0===a?void 0:a.status})}),Object(ie.jsxs)(y.a,{align:"center",children:[("ADMIN"===(null===n||void 0===n?void 0:n.role)||"SUPER_ADMIN"===(null===n||void 0===n?void 0:n.role))&&Object(ie.jsx)(N.a,{title:"Update Course",children:Object(ie.jsx)(w.a,{onClick:function(){return e=a,U(!0),void ce(e);var e},children:Object(ie.jsx)(E.a,{color:"success",style:{cursor:"pointer"}})})}),Object(ie.jsx)(N.a,{title:"View Modules",children:Object(ie.jsx)(w.a,{onClick:function(){return e=null===a||void 0===a?void 0:a.id,F(e),t(Object(d.s)(e)),void u.push("/admin/course/".concat(e,"/module"));var e},children:Object(ie.jsx)(M.a,{color:"primary",fontSize:"small",style:{cursor:"pointer"}})})}),"SUPER_ADMIN"===(null===n||void 0===n?void 0:n.role)&&Object(ie.jsx)(N.a,{title:"Delete Course",children:Object(ie.jsx)(w.a,{onClick:function(){Q({isOpen:!0,title:"Delete Course",subTitle:"Are you sure you want to delete this course ?",onConfirm:function(){var e;e=null===a||void 0===a?void 0:a.id,t(Object(d.g)({status:"INACTIVE"},e,(function(){t(Object(d.t)($||"",z+1,L))}))),Q(Object(i.a)(Object(i.a)({},K),{},{isOpen:!1}))}})},children:Object(ie.jsx)(be.a,{color:"error",style:{cursor:"pointer"}})})})]})]},c)}))}):Object(ie.jsx)("caption",{style:{textAlign:"center"},children:"Sorry! No data available"})]})}),Object(ie.jsx)(S.a,{rowsPerPageOptions:[25,50,100],component:"div",count:je||0,rowsPerPage:L,page:z,onPageChange:function(e,t){H(t)},onRowsPerPageChange:function(e){B(+e.target.value)},sx:{".MuiTablePagination-displayedRows":{marginBottom:0},".MuiTablePagination-selectLabel":{marginBottom:0}}})]}),D&&Object(ie.jsx)(le,{isOpen:D,setOpen:U,isEditData:ae,handleFetchCourses:ve}),K&&Object(ie.jsx)(o.a,{confirmDialog:K,setConfirmDialog:Q})]})]})}},993:function(e,t,n){"use strict";var i,a,c=n(4),s=n(16),o=n(28),l=n(939),r=n(7),d=n(58),u=n(0),j=n.n(u),b=n(243),m=n(1014),v=n(1001),O=n(1002),h=n(40),p=n(93),x=n(869),f=n(892),g=(n(977),n(978),n(98)),y=n(1015),C=Object(g.b)(i||(i=Object(d.a)(["\n    .fc-button,\n    .fc-button-primary {\n        box-shadow: ",";\n        color: ",";\n        background: ",";\n        font-weight: ",";\n        font-family: ",";\n        border: 0;\n        outline: 0;\n        box-shadow: none;\n\n        transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\n            border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n\n        &:hover,\n        &:active,\n        &:focus,\n        &:not(:disabled):active,\n        &:not(:disabled):active:focus {\n            box-shadow: none;\n            background-color: ",";\n        }\n\n        &:not(:disabled):active,\n        &:not(:disabled).fc-button-active {\n            background-color: ",";\n\n            &:focus {\n                box-shadow: none;\n            }\n        }\n\n        &-primary:disabled {\n            background: rgba(0, 0, 0, 0.12);\n            color: rgba(0, 0, 0, 0.26);\n        }\n    }\n\n    .fc-event {\n        padding: ",";\n        margin: ",";\n    }\n\n    .fc-h-event {\n        border: 1px solid ",";\n        background: ",";\n    }\n\n    .fc-unthemed td.fc-today {\n        background: ",";\n    }\n\n    .fc-dayGrid-view .fc-week-number,\n    .fc-dayGrid-view .fc-day-number {\n        padding: ",";\n    }\n\n    .fc th {\n        padding: ",";\n    }\n    .fc .fc-toolbar {\n        display: flex, @media (max-device-width: 960px) and (min-device-width: 375px) {\n            display: block;\n        }\n    }\n    .fc-toolbar h2 {\n        @media (max-device-width: 600px) and (min-device-width: 200px) {\n            font-size: 16px\n        }\n      }\n    .fc .fc-button-group{\n        @media (max-device-width: 600px) and (min-device-width: 200px) {\n            display:grid\n        }\n      }\n"])),(function(e){return e.theme.shadows[1]}),(function(e){return e.theme.palette.primary.contrastText}),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.typography.fontWeightMedium}),(function(e){return e.theme.typography.fontFamily}),(function(e){return Object(y.a)(.1,e.theme.palette.primary.main)}),(function(e){return Object(y.a)(.1,e.theme.palette.primary.main)}),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(.5)}),(function(e){return Object(y.a)(.05,e.theme.palette.secondary.main)}),(function(e){return e.theme.palette.secondary.main}),(function(e){return Object(y.b)(.5,e.theme.palette.primary.main)}),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(1)})),A=n(11),N=(n(481),function(){return new Promise((function(e,t){Object(A.a)("https://prodservice.bookeinstein.com","GET","batches-service/meetings?meetingRange=MONTH",!0).then((function(t){e(t)})).catch((function(e){t(e)}))}))}),w=n(1),S=b.a.div(a||(a=Object(d.a)(["\n    ","\n"])),C);function T(){var e=Object(p.a)(),t=(Object(x.a)(e.breakpoints.down("sm")),Object(u.useRef)(null)),n=Object(u.useState)([]),i=Object(r.a)(n,2),a=i[0],d=i[1];Object(l.a)(Object(h.i)());var j=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N().then((function(e){var t=b(e);d(t)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){j(a)}),[]);var b=function(e){var t=[];return e.map((function(e){var n={};n=Object(c.a)(Object(c.a)({},n),{},{title:null===e||void 0===e?void 0:e.agenda,start:null===e||void 0===e?void 0:e.startDateTime,end:e.endDateTime,url:null===e||void 0===e?void 0:e.joinUrl}),t.push(n)})),t};return Object(w.jsx)(S,{children:Object(w.jsx)(m.a,{ref:t,initialView:"dayGridMonth",plugins:[v.a,O.a],events:a,selectable:"true",selectHelper:"true",editable:!0,height:"50vh",headerToolbar:{left:"prev,next",center:"title",right:"dayGridDay,dayGridWeek,dayGridMonth"}})})}t.a=function(){return Object(w.jsx)(j.a.Fragment,{children:Object(w.jsx)(f.a,{container:!0,spacing:6,children:Object(w.jsx)(f.a,{item:!0,xs:12,children:Object(w.jsx)(T,{})})})})}}}]);
//# sourceMappingURL=79.009b90cc.chunk.js.map