(this["webpackJsonpbookeinstein-app"]=this["webpackJsonpbookeinstein-app"]||[]).push([[101],{1144:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ae}));var a=n(7),i=n(0),c=n(21),s=n(174),l=n(54),d=n(750),o=n(342),r=n(745),j=n(222),b=n(20),u=n(65),O=n(223),p=n(119),x=n(746),h=n(747),m=n(748),v=n(113),f=n(749),y=n(158),g=n(742),I=n(346),N=n(738),C=n(26),S=n(96),P=n.n(S),A=n(43),M=n(38),T=n(85),k=n(64),w=n.n(k),E=n(140),q=n(226),D=n(34),L=n(740),R=n(898),U=n(741),_=n(899),H=n(343),V=n(900),z=n(120),B=n.n(z),J=n(1),F=[{id:0,status:"ONLINE_COURSE"}],G=[{id:0,status:"ONLINE"},{id:1,status:"CASH"}],K=M.d({typeId:M.f().required("Type Id is required"),planOptionId:M.f().required("Plan option id is required"),profileId:M.f().required("Profile Id is required"),paymentMode:M.f().required("Payment mode is required"),amount:M.f().required("Amount is required")});function Q(e){var t=e.isOpen,n=e.setOpen,a=Object(E.a)(),l=Object(c.b)(),d=(Object(c.c)((function(e){return null===e||void 0===e?void 0:e.school})).schoolList,Object(A.f)({mode:"onChange",resolver:Object(T.a)(K),defaultValues:{type:"ONLINE_COURSE",typeId:"",planOptionId:"",profileId:"",paymentMode:"",amount:"",transactionId:""}})),o=d.reset,r=d.handleSubmit,j=((0,d.watch)("type"),function(){n(!1),o()});return Object(i.useEffect)((function(){l(Object(q.f)())}),[]),Object(J.jsx)("div",{children:Object(J.jsxs)(L.a,{open:t,classes:{paper:a.dialog},children:[Object(J.jsx)(R.a,{className:a.dialogTitle,children:Object(J.jsxs)("div",{className:a.dialogTitleChild,children:[Object(J.jsx)(y.a,{style:{fontSize:"20px"},children:" Add Subscription "}),Object(J.jsx)(U.a,{to:"#",onClick:j,children:Object(J.jsx)(w.a,{className:a.closeIcon})})]})}),Object(J.jsxs)(D.a,{methods:d,onSubmit:r((function(e){var t={type:null===e||void 0===e?void 0:e.type,typeId:null===e||void 0===e?void 0:e.typeId,planOptionId:null===e||void 0===e?void 0:e.planOptionId,profileId:null===e||void 0===e?void 0:e.profileId,paymentMode:null===e||void 0===e?void 0:e.paymentMode,amount:null===e||void 0===e?void 0:e.amount,transactionId:null===e||void 0===e?void 0:e.transactionId};l(Object(s.c)(t,(function(){l(Object(s.p)()),j()})))})),children:[Object(J.jsx)(B.a,{className:a.ScrollHeight,children:Object(J.jsx)(_.a,{children:Object(J.jsxs)(b.a,{container:!0,rowSpacing:2,children:[Object(J.jsxs)(b.a,{item:!0,xs:12,children:[Object(J.jsxs)("label",{children:["Type ",Object(J.jsx)("span",{className:a.mandatory,children:"*"})]}),Object(J.jsx)(D.c,{name:"type",label:"",disabled:!0,children:Object(J.jsxs)("option",{value:F[0].status,children:[" ",F[0].status," "]})})]}),Object(J.jsxs)(b.a,{item:!0,xs:12,children:[Object(J.jsxs)("label",{children:["Type Id ",Object(J.jsx)("span",{className:a.mandatory,children:"*"})]}),Object(J.jsx)(D.d,{name:"typeId"})]}),Object(J.jsxs)(b.a,{item:!0,xs:12,children:[Object(J.jsxs)("label",{children:["Plan Option Id",Object(J.jsx)("span",{className:a.mandatory,children:"*"})]}),Object(J.jsx)(D.d,{name:"planOptionId"})]}),Object(J.jsxs)(b.a,{item:!0,xs:12,children:[Object(J.jsxs)("label",{children:["Profile Id",Object(J.jsx)("span",{className:a.mandatory,children:"*"})]}),Object(J.jsx)(D.d,{name:"profileId"})]}),Object(J.jsxs)(b.a,{item:!0,xs:12,children:[Object(J.jsxs)("label",{children:["Payment Mode",Object(J.jsx)("span",{className:a.mandatory,children:"*"})]}),Object(J.jsx)(D.c,{name:"status",label:"",children:null===G||void 0===G?void 0:G.map((function(e,t){return Object(J.jsx)("option",{value:null===e||void 0===e?void 0:e.status,children:null===e||void 0===e?void 0:e.status},t)}))})]}),Object(J.jsxs)(b.a,{item:!0,xs:12,children:[Object(J.jsxs)("label",{children:["Amount",Object(J.jsx)("span",{className:a.mandatory,children:"*"})]}),Object(J.jsx)(D.d,{name:"amount",type:"number"})]}),Object(J.jsxs)(b.a,{item:!0,xs:12,children:[Object(J.jsx)("label",{children:"Transaction Id"}),Object(J.jsx)(D.d,{name:"transactionId"})]})]})})}),Object(J.jsx)(H.a,{style:{marginTop:15}}),Object(J.jsxs)(V.a,{className:a.dialogAction,children:[Object(J.jsx)(p.a,{variant:"outlined",color:"secondary",className:a.buttonCancel,onClick:j,children:"Close"}),Object(J.jsx)(p.a,{variant:"contained",type:"submit",className:a.buttonSubmit,children:"Add"})]})]})]})})}var W=n(290),X=n.n(W),Y=n(141),Z=n.n(Y),$=n(40),ee=n(62),te=n(46),ne=Object(d.a)((function(e){return{root:{"&:nth-of-type(even)":{backgroundColor:e.palette.action.hover}}}}))(r.a);function ae(){var e=Object(ee.a)();Object(te.a)({roleList:["ADMIN","SCHOOL_ADMIN","SUPER_ADMIN"]});var t=Object(c.c)((function(e){return null===e||void 0===e?void 0:e.userProfile})).loggedUserProfile,n=Object(c.b)(),d=Object(o.a)(),r=Object($.g)(),S=Object(i.useState)(""),A=Object(a.a)(S,2),M=A[0],T=A[1],k=Object(i.useState)(!1),w=Object(a.a)(k,2),E=w[0],q=w[1],D=Object(i.useState)(0),L=Object(a.a)(D,2),R=L[0],U=L[1],_=Object(i.useState)(10),H=Object(a.a)(_,2),V=H[0],z=H[1],B=Object(i.useState)(null),F=Object(a.a)(B,2),G=F[0],K=F[1],W=Object(c.c)((function(e){return null===e||void 0===e?void 0:e.subscriptions})).allSubscription,Y=null===W||void 0===W?void 0:W.content;return Object(i.useEffect)((function(){n(Object(s.i)())}),[]),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(l.a,{children:[Object(J.jsxs)("div",{className:e.titleContainer,children:[Object(J.jsx)(P.a,{className:e.viewIcon}),Object(J.jsx)("span",{className:e.pageTitle,children:"\xa0 Class Subscriptions "})]}),Object(J.jsxs)(j.a,{elevation:5,className:e.root,children:[Object(J.jsxs)(b.a,{container:!0,spacing:3,style:{display:"flex",justifyContent:"space-between"},children:[Object(J.jsx)(b.a,{item:!0,xs:12,sm:6,md:6,children:Object(J.jsx)("div",{children:Object(J.jsx)(u.a,{className:e.searchControl,id:"input-search-header",value:M,onChange:function(e){return T(e.target.value)},placeholder:"Search",startAdornment:Object(J.jsx)(O.a,{position:"start",children:Object(J.jsx)(C.U,{stroke:1.5,size:"1rem",className:e.startAdornment})})})})}),Object(J.jsx)(b.a,{item:!0,xs:12,sm:6,md:6,children:Object(J.jsx)("div",{className:e.btn,children:("ADMIN"===(null===t||void 0===t?void 0:t.role)||"SUPER_ADMIN"===(null===t||void 0===t?void 0:t.role))&&Object(J.jsxs)(p.a,{variant:"contained",color:"primary",onClick:function(){q(!0),K(null)},className:e.btnAddDeliveryPlan,children:[Object(J.jsx)(X.a,{})," Subscription"]})})})]}),Object(J.jsx)(x.a,{className:e.tableContainer,children:Object(J.jsxs)(h.a,{className:e.table,"aria-label":"simple table",children:[Object(J.jsx)(m.a,{className:e.tableHeaderCell,children:Object(J.jsxs)(ne,{children:[Object(J.jsx)(v.a,{children:" Type "}),Object(J.jsx)(v.a,{children:" Payment Mode "}),Object(J.jsx)(v.a,{align:"center",children:" Amount "}),Object(J.jsx)(v.a,{align:"center",children:" Transaction Id"}),Object(J.jsx)(v.a,{align:"center",children:" Status "}),Object(J.jsx)(v.a,{align:"right",children:" Actions "})]})}),Y?Object(J.jsx)(f.a,{children:null===Y||void 0===Y?void 0:Y.slice(R*V,R*V+V).map((function(t){return Object(J.jsxs)(ne,{children:[Object(J.jsx)(v.a,{children:null===t||void 0===t?void 0:t.type}),Object(J.jsx)(v.a,{children:null===t||void 0===t?void 0:t.paymentMode}),Object(J.jsx)(v.a,{align:"center",children:null===t||void 0===t?void 0:t.amount}),Object(J.jsx)(v.a,{align:"center",children:null===t||void 0===t?void 0:t.transactionId}),Object(J.jsx)(v.a,{align:"center",children:Object(J.jsx)(y.a,{className:e.status,style:{backgroundColor:"ACTIVE"===(null===t||void 0===t?void 0:t.status)&&d.palette.success.main||"INACTIVE"===(null===t||void 0===t?void 0:t.status)&&d.palette.warning.dark},children:null===t||void 0===t?void 0:t.status})}),Object(J.jsx)(v.a,{align:"right",children:Object(J.jsx)(g.a,{title:"View Subscription",children:Object(J.jsx)(I.a,{onClick:function(){return e=t.id,void r.push("subscription/".concat(e));var e},children:Object(J.jsx)(Z.a,{color:"primary",style:{cursor:"pointer"}})})})})]},t.id)}))}):Object(J.jsx)("caption",{style:{textAlign:"center"},children:"Sorry! No data available"})]})}),Object(J.jsx)(N.a,{rowsPerPageOptions:[10,15,25],component:"div",count:(null===Y||void 0===Y?void 0:Y.length)||0,rowsPerPage:V,page:R,onPageChange:function(e,t){U(t)},onRowsPerPageChange:function(e){z(+e.target.value),U(0)},sx:{".MuiTablePagination-displayedRows":{marginBottom:0},".MuiTablePagination-selectLabel":{marginBottom:0}}})]}),E&&Object(J.jsx)(Q,{isOpen:E,setOpen:q,isEditData:G})]})})}}}]);
//# sourceMappingURL=101.f0901f7e.chunk.js.map