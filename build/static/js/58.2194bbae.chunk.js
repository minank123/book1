(this["webpackJsonpbookeinstein-app"]=this["webpackJsonpbookeinstein-app"]||[]).push([[58],{1026:function(e,t,n){"use strict";var c=n(45);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(50)),i=n(1),s=(0,a.default)((0,i.jsx)("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.default=s},1027:function(e,t,n){"use strict";var c=n(45);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(50)),i=n(1),s=(0,a.default)((0,i.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4 6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}),"FileCopy");t.default=s},1114:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return fe}));var c=n(16),a=n(4),i=n(28),s=n(7),o=n(0),l=n(178),r=n.n(l),d=n(21),u=n(11),j=n(9),b=n(5),h=function(e){return{type:b.Fb,error:e}},O=function(e,t,n){return function(c){try{Object(u.a)("https://prodservice.bookeinstein.com","POST","batches-service/meetings/batches/".concat(t),e,!0).then((function(e){e&&(c(Object(j.b)(null===e||void 0===e?void 0:e.message)),n&&n(e))})).catch((function(e){var t;console.log(e),c(Object(j.b)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message))}))}catch(a){console.log(a)}}},v=function(e,t){return function(n){try{Object(u.a)("https://prodservice.bookeinstein.com","POST","batches-service/meetings/".concat(e,"/copy"),!0).then((function(e){e&&(n(Object(j.b)(null===e||void 0===e?void 0:e.message)),t&&t(e))})).catch((function(e){var t,c;console.log(e),n(Object(j.b)(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.message?null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.message:"Conflict"))}))}catch(c){console.log(c)}}},m=function(e,t,n){return function(c){try{Object(u.a)("https://prodservice.bookeinstein.com","PUT","batches-service/meetings/".concat(t),e,!0).then((function(e){e&&(c(Object(j.b)(null===e||void 0===e?void 0:e.message)),n&&n(e))})).catch((function(e){var t;console.log(e),c(Object(j.b)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message))}))}catch(a){console.log(a)}}},g=function(e,t){return function(n){try{Object(u.a)("https://prodservice.bookeinstein.com","DELETE","batches-service/meetings/".concat(e),!0).then((function(e){n(Object(j.b)("Meeting deleted successfully")),t&&t(e)})).catch((function(e){var t;n(Object(j.b)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)),console.log(e)}))}catch(c){console.log(c)}}},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return function(a){a({type:b.Gb});try{Object(u.a)("https://prodservice.bookeinstein.com","GET","batches-service/meetings/batches/".concat(e,"?searchKey=").concat(t,"&pageNumber=").concat(n,"&pageSize=").concat(c),!0).then((function(e){a(function(e){return{type:b.Hb,payload:e}}({allMeetings:e}))})).catch((function(e){a(h(e)),a(Object(j.b)(null===e||void 0===e?void 0:e.message))}))}catch(i){a(h("Something went wrong"))}}},p=n(54),f=n(173),y=n(750),S=n(342),D=n(745),N=n(222),M=n(20),T=n(65),C=n(223),A=n(119),w=n(746),I=n(747),k=n(748),E=n(113),P=n(749),z=n(158),H=n(742),V=n(346),U=n(738),Y=n(26),F=n(288),L=n.n(F),_=n(289),G=n.n(_),R=n(96),q=n.n(R),B=n(1027),J=n.n(B),K=n(62),Q=n(43),W=n(85),X=n(34),Z=n(38),$=n(64),ee=n.n($),te=n(349),ne=n(740),ce=n(898),ae=n(741),ie=n(899),se=n(343),oe=n(900),le=n(183),re=n(140),de=n(484),ue=n.n(de),je=n(1),be=[{id:0,status:"PENDING"},{id:1,status:"ACTIVE"}],he=Z.d({agenda:Z.f("Enter Title").required("Agenda is required"),sessionId:Z.f("Select Session").required("Session is required")});function Oe(e){var t=e.openAddMeetings,n=e.setOpenAddMeetings,a=e.isEditData,l=e.meetingId,r=e.moduleId,u=Object(re.a)(),j=Object(d.b)(),b=Object(o.useState)(!1),h=Object(s.a)(b,2),v=h[0],g=(h[1],Object(o.useState)(null)),p=Object(s.a)(g,2),f=p[0],y=p[1],S=Object(o.useState)(null),D=Object(s.a)(S,2),N=D[0],T=D[1],C=function(e){var t=e.split("T")[0],n=e.split("T")[1].split(":");return t+"T"+n[0]+":"+n[1]},w=null===a||void 0===a?void 0:a.startDateTime,I=ue.a.utc(w).format(),k=C(ue.a.utc(I).add(5,"hours").add(30,"minutes").format()),E=null===a||void 0===a?void 0:a.endDateTime,P=ue.a.utc(E).format(),H=C(ue.a.utc(P).add(5,"hours").add(30,"minutes").format()),V={agenda:null===a||void 0===a?void 0:a.agenda,sessionId:(null===a||void 0===a?void 0:a.sessionId)||"",startDateTime:f||"",endDateTime:N||"",status:(null===a||void 0===a?void 0:a.status)||"PENDING"},U=Object(Q.f)({mode:"onChange",resolver:Object(W.a)(he),defaultValues:V}),Y=U.reset,F=U.handleSubmit,L=function(){n(!1),Y()},_=new Date(f).toISOString(),G=new Date(N).toISOString(),R=Object(o.useState)([]),q=Object(s.a)(R,2),B=q[0],J=q[1],K=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(le.c)(t).then((function(e){J(e)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){K(r),y(k),T(H)}),[k,H]),Object(je.jsxs)("div",{style:{},children:[Object(je.jsxs)(ne.a,{open:t,classes:{paper:u.dialog},children:[Object(je.jsx)(ce.a,{className:u.dialogTitle,children:Object(je.jsxs)("div",{className:u.dialogTitleChild,children:[Object(je.jsx)(z.a,{style:{fontSize:"20px"},children:a?"Update Meeting":"Add Meeting"}),Object(je.jsx)(ae.a,{to:"#",onClick:L,children:Object(je.jsx)(ee.a,{className:u.closeIcon})})]})}),Object(je.jsxs)(X.a,{methods:U,onSubmit:F((function(e){var t={agenda:null===e||void 0===e?void 0:e.agenda,sessionId:null===e||void 0===e?void 0:e.sessionId,startDateTime:_,endDateTime:G,status:null===e||void 0===e?void 0:e.status};a?(j(m(t,a.id,(function(){j(x(l))}))),L()):(j(O(t,l,(function(){j(x(l))}))),L())})),children:[Object(je.jsx)(ie.a,{children:Object(je.jsx)(M.a,{container:!0,children:Object(je.jsx)(M.a,{item:!0,xs:12,children:Object(je.jsxs)(M.a,{container:!0,spacing:2,children:[Object(je.jsxs)(M.a,{item:!0,xs:12,sm:6,children:[Object(je.jsxs)("label",{children:["Agenda ",Object(je.jsx)("span",{className:u.mandatory,children:"*"})]}),Object(je.jsx)(X.d,{name:"agenda",placeholder:"Agenda here",className:u.textField,autoFocus:!0})]}),Object(je.jsx)("br",{})," ",Object(je.jsx)("br",{}),Object(je.jsxs)(M.a,{item:!0,xs:12,sm:6,children:[Object(je.jsx)("label",{children:" Session "}),Object(je.jsxs)(X.c,{name:"sessionId",label:"",children:[Object(je.jsx)("option",{value:"",children:" Choose a session "}),null===B||void 0===B?void 0:B.map((function(e){var t;return Object(je.jsx)("option",{value:null===e||void 0===e?void 0:e.id,defaultValue:(null===e||void 0===e?void 0:e.id)===(null===B||void 0===B||null===(t=B.filter((function(e){return e.id===(null===a||void 0===a?void 0:a.sessionList)}))[0])||void 0===t?void 0:t.id),children:null===e||void 0===e?void 0:e.title},null===e||void 0===e?void 0:e.id)}))]})]}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsxs)(M.a,{item:!0,xs:12,sm:6,children:[Object(je.jsxs)("label",{children:["Start(Date/Time) ",Object(je.jsx)("span",{className:u.mandatory,children:"*"})]}),Object(je.jsx)(X.d,{name:"startDateTime",type:"datetime-local",placeholder:"Start date-time here",className:u.textField,onChange:function(e){var t=e.target.value,n=new Date,c=String(n.getMonth()).length<2?"0"+(n.getMonth()+1):n.getMonth()+1,a=String(n.getDate()).length<2?"0"+n.getDate():n.getDate(),i=String(n.getHours()).length<2?"0"+n.getHours():n.getHours(),s=String(n.getMinutes()).length<2?"0"+n.getMinutes():n.getMinutes(),o="".concat(n.getFullYear(),"-").concat(c,"-").concat(a,"T").concat(i,":").concat(s);t<o&&(t=o),y(t)},value:f})]}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsxs)(M.a,{item:!0,xs:12,sm:6,children:[Object(je.jsxs)("label",{children:["End(Date/Time) ",Object(je.jsx)("span",{className:u.mandatory,children:"*"})]}),Object(je.jsx)(X.d,{name:"endDateTime",type:"datetime-local",placeholder:"End date-time here",className:u.textField,onChange:function(e){return T(e.target.value)},value:N})]}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsxs)(M.a,{item:!0,xs:12,sm:6,children:[Object(je.jsxs)("label",{children:["Status ",Object(je.jsx)("span",{className:u.mandatory,children:"*"})]}),Object(je.jsx)(X.c,{name:"status",label:"",children:null===be||void 0===be?void 0:be.map((function(e,t){return Object(je.jsx)("option",{value:null===e||void 0===e?void 0:e.status,children:null===e||void 0===e?void 0:e.status},t)}))})]})]})})})}),Object(je.jsx)(se.a,{style:{marginTop:15}}),Object(je.jsxs)(oe.a,{className:u.dialogAction,children:[Object(je.jsx)(A.a,{variant:"outlined",color:"secondary",className:u.buttonCancel,onClick:L,children:"Close"}),Object(je.jsx)(A.a,{variant:"contained",color:"primary",type:"submit",className:u.buttonSubmit,children:a?"Update":"Add"})]})]})]}),Object(je.jsx)("span",{className:u.loader,children:v?Object(te.a)():""})]})}var ve=n(40),me=n(1026),ge=n.n(me),xe=n(46),pe=Object(y.a)((function(e){return{root:{"&:nth-of-type(even)":{backgroundColor:e.palette.action.hover}}}}))(D.a);function fe(){var e=Object(K.a)();Object(xe.a)({roleList:["ADMIN","TEACHER","SUPER_ADMIN"]});var t=Object(ve.g)(),n=Object(S.a)(),l=Object(d.b)(),u=Object(ve.i)(),j=u.id,b=u.mId,h=Object(o.useState)(""),O=Object(s.a)(h,2),m=O[0],y=O[1],D=Object(o.useState)(!1),F=Object(s.a)(D,2),_=F[0],R=F[1],B=Object(o.useState)(0),Q=Object(s.a)(B,2),W=Q[0],X=Q[1],Z=Object(o.useState)(10),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ne=Object(o.useState)(null),ce=Object(s.a)(ne,2),ae=ce[0],ie=ce[1],se=Object(d.c)((function(e){return null===e||void 0===e?void 0:e.userProfile})).loggedUserProfile,oe=Object(d.c)((function(e){return null===e||void 0===e?void 0:e.meeting})).allMeetings,le=null===oe||void 0===oe?void 0:oe.content,re=null===oe||void 0===oe?void 0:oe.totalElements,de=Object(o.useState)({isOpen:!1,title:"",subTitle:""}),ue=Object(s.a)(de,2),be=ue[0],he=ue[1],me=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:he(Object(a.a)(Object(a.a)({},be),{},{isOpen:!1})),l(g(t,(function(){l(x(j))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(i.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(v(t,(function(){l(x(j))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){l(x(j,m||"",W+1,ee))}),[m,W,ee]),Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)(p.a,{children:[Object(je.jsxs)("div",{className:e.titleContainer,children:[Object(je.jsx)(q.a,{className:e.viewIcon}),Object(je.jsx)("span",{className:e.pageTitle,children:"\xa0 All Meetings "})]}),Object(je.jsxs)(N.a,{elevation:5,className:e.root,children:[Object(je.jsxs)(M.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(je.jsx)("div",{children:Object(je.jsx)(T.a,{label:"hello",className:e.searchControl,id:"input-search-header",onChange:function(e){return function(e){y(e.target.value)}(e)},placeholder:"Search",startAdornment:Object(je.jsx)(C.a,{position:"start",children:Object(je.jsx)(Y.U,{stroke:1.5,size:"1rem",className:e.startAdornment})})})}),Object(je.jsxs)(M.a,{style:{display:"flex"},children:["\xa0\xa0",("ADMIN"===(null===se||void 0===se?void 0:se.role)||"SUPER_ADMIN"===(null===se||void 0===se?void 0:se.role))&&Object(je.jsx)("div",{children:Object(je.jsx)(A.a,{variant:"contained",onClick:function(){R(!0),ie(null)},className:e.btnAdd,children:"Add Meeting"})})]})]}),Object(je.jsx)(w.a,{className:e.tableContainer,children:Object(je.jsxs)(I.a,{className:e.table,"aria-label":"simple table",children:[Object(je.jsx)(k.a,{className:e.tableHeaderCell,children:Object(je.jsxs)(pe,{children:[Object(je.jsx)(E.a,{children:" Agenda "}),Object(je.jsx)(E.a,{children:" Start (Date-Time) "}),Object(je.jsx)(E.a,{children:" End (Date-Time) "}),Object(je.jsx)(E.a,{children:" Url "}),Object(je.jsx)(E.a,{children:" Status "}),Object(je.jsx)(E.a,{children:" Action "})]})}),le?Object(je.jsx)(P.a,{children:null===le||void 0===le?void 0:le.map((function(c){return Object(je.jsxs)(pe,{children:[Object(je.jsx)(E.a,{children:c.agenda}),Object(je.jsx)(E.a,{children:Object(je.jsx)(r.a,{format:"YYYY/MM/DD hh:mm a",date:c.startDateTime})}),Object(je.jsx)(E.a,{children:Object(je.jsx)(r.a,{format:"YYYY/MM/DD hh:mm a",date:c.endDateTime})}),Object(je.jsx)(E.a,{component:"th",scope:"row",children:Object(je.jsx)("div",{style:{display:"block",width:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:Object(je.jsxs)("a",{href:c.startUrl,children:[" ",c.startUrl]})})}),Object(je.jsx)(E.a,{children:Object(je.jsx)(z.a,{className:e.status,style:{backgroundColor:"ACTIVE"===(null===c||void 0===c?void 0:c.status)&&n.palette.success.main||"PENDING"===(null===c||void 0===c?void 0:c.status)&&n.palette.warning.dark||"INACTIVE"===(null===c||void 0===c?void 0:c.status)&&"blue"},children:null===c||void 0===c?void 0:c.status})}),Object(je.jsxs)(E.a,{children:[Object(je.jsx)(H.a,{title:"View Assignments",children:Object(je.jsx)(V.a,{onClick:function(){return function(e){t.push("/admin/course/batch/meeting/".concat(e,"/assignment"))}(null===c||void 0===c?void 0:c.id)},children:Object(je.jsx)(ge.a,{color:"primary",style:{cursor:"pointer"}})})}),Object(je.jsx)(H.a,{title:"Clone Meeting",children:Object(je.jsx)(V.a,{onClick:function(){return fe(null===c||void 0===c?void 0:c.id)},children:Object(je.jsx)(J.a,{color:"primary",style:{cursor:"pointer"}})})}),Object(je.jsx)(H.a,{title:"Update Meeting",children:Object(je.jsx)(V.a,{onClick:function(){return e=c,R(!0),void ie(e);var e},children:Object(je.jsx)(L.a,{color:"primary",style:{cursor:"pointer"}})})}),Object(je.jsx)(H.a,{title:"Delete meeting",children:Object(je.jsx)(V.a,{onClick:function(){he({isOpen:!0,title:"Delete Meeting",subTitle:"Are you sure you want to delete this meeting.",onConfirm:function(){me(null===c||void 0===c?void 0:c.id)}})},children:Object(je.jsx)(G.a,{color:"error",style:{cursor:"pointer"}})})})]})]},c.id)}))}):Object(je.jsx)("caption",{style:{textAlign:"center"},children:"Sorry! No data available"})]})}),Object(je.jsx)(U.a,{rowsPerPageOptions:[10,15,25],component:"div",count:re,rowsPerPage:ee,page:W,onPageChange:function(e,t){X(t)},onRowsPerPageChange:function(e){te(+e.target.value)},sx:{".MuiTablePagination-displayedRows":{marginBottom:0},".MuiTablePagination-selectLabel":{marginBottom:0}}})]}),_&&Object(je.jsx)(Oe,{openAddMeetings:_,setOpenAddMeetings:R,meetingId:j,moduleId:b,isEditData:ae}),be&&Object(je.jsx)(f.a,{confirmDialog:be,setConfirmDialog:he})]})})}}}]);
//# sourceMappingURL=58.2194bbae.chunk.js.map