(this["webpackJsonpbookeinstein-app"]=this["webpackJsonpbookeinstein-app"]||[]).push([[24],{1109:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),r=n(8),a=n(56),c=n(861),s=n(20),l=n(862),d=n(158),u=n(343),j=n(942),b=n(940),m=n(293),p=n(16),h=n(28),O=n(7),f=n(939),x=n(4),v=n(227),g=n(40),y=n(85),w=n(38),N=n(139),C=n(223),S=n(346),A=n(119),k=function(){var e=Object(i.useRef)(!0);return Object(i.useEffect)((function(){return function(){e.current=!1}}),[]),e},E=n(426),I=n.n(E),P=function(e){var t=0;return e.length>5&&t++,e.length>7&&t++,function(e){return new RegExp(/[0-9]/).test(e)}(e)&&t++,function(e){return new RegExp(/[!#@$%^&*)(+=._-]/).test(e)}(e)&&t++,function(e){return new RegExp(/[a-z]/).test(e)&&new RegExp(/[A-Z]/).test(e)}(e)&&t++,t},q=n(141),T=n.n(q),D=n(229),B=n.n(D),L=n(34),F=n(43),R=n(21),z=n(960),M=n(226),W=n(9),H=n(1),V=Object(N.a)((function(e){return{loginInput:Object(x.a)({},e.typography.customInput),schoolList:{marginTop:8,marginBottom:8,"& > label":{top:"10px",left:0,color:e.grey500,'&[data-shrink="false"]':{top:"5px"}},"& > div > input":{padding:"30.5px 14px 11.5px !important"},"& legend":{display:"none"},"& fieldset":{top:0}},em:{fontStyle:"normal",color:"#D3D3D3"}}})),G=w.d().shape({termsAndConditions:w.b().oneOf([!0],Object(H.jsx)("span",{style:{color:"red"},children:" Please accept the terms and conditions "}))}),J=function(e){var t=e.setIsTermsAccepted;return Object(H.jsx)(v.c,{initialValues:{termsAndConditions:!1},validationSchema:G,onSubmit:function(e){console.log(e)},children:function(e){var n=e.errors,i=e.setFieldValue;return Object(H.jsx)(v.b,{children:Object(H.jsxs)("div",{children:[n.termsAndConditions&&Object(H.jsx)("p",{children:n.termsAndConditions}),"\xa0",Object(H.jsxs)("label",{children:[Object(H.jsx)(v.a,{type:"checkbox",name:"termsAndConditions",onChange:function(e){i("termsAndConditions",e.target.checked),t(e.target.checked)}}),"\xa0",Object(H.jsx)("a",{href:"/termsConditions",target:"_blank",children:"Terms and conditions"})]})]})})}})},U=function(e){Object.assign({},(Object(f.a)(e),e));var t=V(),n=Object(g.g)(),r=Object(R.b)(),a=(k(),Object(c.a)((function(e){return e.breakpoints.down("sm")}))),l=o.a.useState(!1),d=Object(O.a)(l,2),u=d[0],j=d[1],b=o.a.useState(!1),m=Object(O.a)(b,2),x=m[0],v=m[1],N=Object(i.useState)(0),E=Object(O.a)(N,2),q=(E[0],E[1]),D=Object(i.useState)(""),G=Object(O.a)(D,2),U=(G[0],G[1]),_=Object(i.useState)(""),Y=Object(O.a)(_,2),Z=(Y[0],Y[1],Object(R.c)((function(e){return null===e||void 0===e?void 0:e.school})).schoolList),$=Object(i.useState)(!1),K=Object(O.a)($,2),Q=K[0],X=K[1],ee=Object(i.useState)(!1),te=Object(O.a)(ee,2),ne=te[0],ie=te[1],oe=w.d().shape({firstName:w.f().required("First name is required"),lastName:w.f().required("Last name is required"),email:w.f().email("Email must be a valid email address").required("Email is required"),password:w.f().required("Password is required"),dob:w.f("Enter Date Of Birth").trim().required("Date Of Birth is required"),confirmPassword:w.f().oneOf([w.e("password"),null],"Password must match").required("Confirm Your Password"),mobile:w.f().required("Mobile is required"),termsAndConditions:w.b().required("Please accept the terms and conditions").oneOf([!0])}),re=Object(F.f)({mode:"onChange",resolver:Object(y.a)(oe),defaultValues:{email:"",password:"",mobile:"",firstName:"",lastName:"",schoolId:"",classAndSection:"",dob:"",termsAndConditions:!0}}),ae=re.handleSubmit,ce=(0,re.watch)("schoolId"),se=function(e){var t,n=P(e);q(n),U((t=n)<2?{label:"Poor",color:I.a.errorMain}:t<3?{label:"Weak",color:I.a.warningDark}:t<4?{label:"Normal",color:I.a.orangeMain}:t<5?{label:"Good",color:I.a.successMain}:t<6?{label:"Strong",color:I.a.successDark}:void 0)},le=function(){var e=Object(h.a)(Object(p.a)().mark((function e(t){var i,o;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(!0),{firstName:null===t||void 0===t?void 0:t.firstName,lastName:null===t||void 0===t?void 0:t.lastName,email:null===t||void 0===t?void 0:t.email,password:null===t||void 0===t?void 0:t.password,mobile:null===t||void 0===t?void 0:t.mobile,name:null===t||void 0===t?void 0:t.name,schoolId:null===t||void 0===t?void 0:t.schoolId,classAndSection:null===t||void 0===t?void 0:t.classAndSection},i={},i=""===(null===t||void 0===t?void 0:t.schoolId)?{firstName:null===t||void 0===t?void 0:t.firstName,lastName:null===t||void 0===t?void 0:t.lastName,email:null===t||void 0===t?void 0:t.email,password:null===t||void 0===t?void 0:t.password,mobile:null===t||void 0===t?void 0:t.mobile,name:null===t||void 0===t?void 0:t.name,termsAndConditions:null===t||void 0===t?void 0:t.termsAndConditions,dob:null===t||void 0===t?void 0:t.dob}:{firstName:null===t||void 0===t?void 0:t.firstName,lastName:null===t||void 0===t?void 0:t.lastName,email:null===t||void 0===t?void 0:t.email,password:null===t||void 0===t?void 0:t.password,mobile:null===t||void 0===t?void 0:t.mobile,name:null===t||void 0===t?void 0:t.name,schoolId:null===t||void 0===t?void 0:t.schoolId,classAndSection:null===t||void 0===t?void 0:t.classAndSection,termsAndConditions:null===t||void 0===t?void 0:t.termsAndConditions,dob:null===t||void 0===t?void 0:t.dob},e.prev=4,e.next=7,r(Object(z.a)(i,(function(){n.push("/login")})));case 7:o=e.sent,r(Object(W.b)(null===o||void 0===o?void 0:o.message)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("Error:",e.t0),X(!1);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){se("123456"),r(Object(M.f)())}),[]),Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(L.a,{methods:re,onSubmit:ae(le),children:Object(H.jsxs)(s.a,{container:!0,spacing:a?0:2,children:[Object(H.jsx)(s.a,{item:!0,xs:12,children:Object(H.jsx)(L.d,{name:"firstName",placeholder:"Enter your first name",autoFocus:!0})}),Object(H.jsx)(s.a,{item:!0,xs:12,children:Object(H.jsx)(L.d,{name:"lastName",placeholder:"Enter your last name"})}),Object(H.jsx)(s.a,{item:!0,xs:12,children:Object(H.jsx)(L.d,{name:"mobile",placeholder:"Enter your phone"})}),Object(H.jsx)(s.a,{item:!0,xs:12,children:Object(H.jsxs)(L.c,{name:"schoolId",label:"",children:[Object(H.jsx)("option",{value:"",selected:!0,children:"Select a School (For Library user - School Delivery)"}),null===Z||void 0===Z?void 0:Z.map((function(e,t){return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.nameBranch},t)})}))]})}),""!==ce&&"Select a School"!==ce&&Object(H.jsx)(s.a,{item:!0,xs:12,children:Object(H.jsx)(L.d,{name:"classAndSection",placeholder:"Enter your class/section"})}),Object(H.jsxs)(s.a,{container:!0,spacing:1,marginTop:.5,children:[Object(H.jsx)(s.a,{item:!0,marginLeft:2,marginTop:.8,style:{opacity:.5},children:" Date of Birth "}),Object(H.jsx)(s.a,{item:!0,marginLeft:3,xs:8,children:Object(H.jsx)(L.d,{type:"date",name:"dob"})})]}),Object(H.jsx)(s.a,{item:!0,xs:12,children:Object(H.jsx)(L.d,{name:"email",placeholder:"Enter your email"})}),Object(H.jsx)(s.a,{item:!0,xs:12,children:Object(H.jsx)(L.d,{className:t.loginInput,name:"password",placeholder:"Password",type:u?"text":"password",InputProps:{endAdornment:Object(H.jsx)(C.a,{position:"end",children:Object(H.jsx)(S.a,{onClick:function(){return j(!u)},edge:"end",children:u?Object(H.jsx)(T.a,{}):Object(H.jsx)(B.a,{})})})}})}),Object(H.jsx)(s.a,{item:!0,xs:12,children:Object(H.jsx)(L.d,{className:t.loginInput,name:"confirmPassword",placeholder:"Confirm password",type:x?"text":"password",InputProps:{endAdornment:Object(H.jsx)(C.a,{position:"end",children:Object(H.jsx)(S.a,{onClick:function(){return v(!x)},edge:"end",children:x?Object(H.jsx)(T.a,{}):Object(H.jsx)(B.a,{})})})}})}),Object(H.jsx)(s.a,{item:!0,xs:12,children:Object(H.jsx)(J,{setIsTermsAccepted:ie})}),Object(H.jsx)(s.a,{item:!0,xs:12,children:Object(H.jsx)(A.a,{disableElevation:!0,fullWidth:!0,size:"large",type:"submit",variant:"contained",disabled:Q||!ne,children:Q?"Processing...":"Sign Up"})})]})})})};t.default=function(){var e=Object(a.a)(),t=Object(c.a)(e.breakpoints.down("sm"));return Object(H.jsx)(j.a,{children:Object(H.jsx)(s.a,{container:!0,direction:"column",justifyContent:"flex-end",children:Object(H.jsx)(s.a,{item:!0,xs:12,children:Object(H.jsx)(s.a,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:Object(H.jsx)(s.a,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:Object(H.jsx)(b.a,{children:Object(H.jsxs)(s.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[Object(H.jsx)(s.a,{item:!0,sx:{mb:3},children:Object(H.jsx)(r.b,{to:"/home",style:{textDecoration:"none"},children:Object(H.jsx)("img",{src:m.default,alt:"",height:"50"})})}),Object(H.jsx)(s.a,{item:!0,xs:12,children:Object(H.jsx)(s.a,{container:!0,direction:t?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:Object(H.jsx)(s.a,{item:!0,children:Object(H.jsxs)(l.a,{alignItems:"center",justifyContent:"center",spacing:1,children:[Object(H.jsx)(d.a,{color:e.palette.primary.main,gutterBottom:!0,variant:t?"h3":"h2",children:"Sign Up"}),Object(H.jsx)(d.a,{children:" (Library / Enrichment Classes)"}),Object(H.jsx)(d.a,{variant:"caption",fontSize:"16px",textAlign:t?"center":"",children:"Enter your credentials to continue"})]})})})}),Object(H.jsx)(s.a,{item:!0,xs:12,children:Object(H.jsx)(U,{})}),Object(H.jsx)(s.a,{item:!0,xs:12,children:Object(H.jsx)(u.a,{})}),Object(H.jsx)(s.a,{item:!0,xs:12,children:Object(H.jsx)(s.a,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:Object(H.jsx)(d.a,{component:r.b,to:"/login",variant:"subtitle1",sx:{textDecoration:"none"},children:"Have an account?"})})})]})})})})})})})}},939:function(e,t,n){"use strict";function i(e){if(null==e)throw new TypeError("Cannot destructure "+e)}n.d(t,"a",(function(){return i}))},940:function(e,t,n){"use strict";var i=n(4),o=n(47),r=n(3),a=(n(0),n(139)),c=n(54),s=n(1),l=["children"],d=Object(a.a)((function(e){var t;return{card:(t={maxWidth:"475px","& > *":{flexGrow:1,flexBasis:"50%"}},Object(r.a)(t,e.breakpoints.down("sm"),{margin:"20px"}),Object(r.a)(t,e.breakpoints.down("lg"),{maxWidth:"400px"}),t),content:Object(r.a)({padding:e.spacing(5)+" !important"},e.breakpoints.down("lg"),{padding:e.spacing(3)+" !important"})}}));t.a=function(e){var t=e.children,n=Object(o.a)(e,l),r=d();return Object(s.jsx)(c.a,Object(i.a)(Object(i.a)({className:r.card,contentClass:r.content},n),{},{children:t}))}},942:function(e,t,n){"use strict";var i=n(2),o=n(6),r=n(0),a=n(14),c=n(86),s=n.n(c),l=n(139),d=n(1),u=["name"],j=["children","className","clone","component"];var b,m=(b="div",function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=n.name,m=Object(o.a)(n,u),p=c,h="function"===typeof e?function(t){return{root:function(n){return e(Object(i.a)({theme:t},n))}}}:{root:e},O=Object(l.a)(h,Object(i.a)({Component:b,name:c||b.displayName,classNamePrefix:p},m));e.filterProps&&(t=e.filterProps,delete e.filterProps),e.propTypes&&(e.propTypes,delete e.propTypes);var f=r.forwardRef((function(e,n){var c=e.children,s=e.className,l=e.clone,u=e.component,m=Object(o.a)(e,j),p=O(e),h=Object(a.a)(p.root,s),f=m;if(t&&(f=function(e,t){var n={};return Object.keys(e).forEach((function(i){-1===t.indexOf(i)&&(n[i]=e[i])})),n}(f,t)),l)return r.cloneElement(c,Object(i.a)({className:Object(a.a)(c.props.className,h)},f));if("function"===typeof c)return c(Object(i.a)({className:h},f));var x=u||b;return Object(d.jsx)(x,Object(i.a)({ref:n,className:h},f,{children:c}))}));return s()(f,b),f})((function(e){return{backgroundColor:e.theme.palette.primary.light,minHeight:"100vh"}}));t.a=m},960:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var i=n(11),o=n(5),r=n(9),a=function(e,t){return function(n){return n({type:o.zf}),Object(i.a)("http://localhost:8101","POST","users-service/users",e,!1).then((function(e){return n(function(e){return{type:o.Af,payload:e}}({data:e})),n(Object(r.b)(null===e||void 0===e?void 0:e.message)),t&&t(e),e})).catch((function(e){var t,i;throw n((i=e,{type:o.vf,error:i})),n(Object(r.b)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)),e}))}},c=function(e,t){return function(n){n({type:o.xf}),Object(i.a)("http://localhost:8101","POST","users-service/users/mobile/otp",e,!1).then((function(i){n(function(e){return{type:o.yf,payload:e}}(e)),n(Object(r.b)(i.message)),t&&t(i)})).catch((function(e){var t,i;n((i=e,{type:o.wf,error:i})),n(Object(r.b)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message))}))}}}}]);
//# sourceMappingURL=24.58f9e261.chunk.js.map