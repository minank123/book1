(this["webpackJsonpbookeinstein-app"]=this["webpackJsonpbookeinstein-app"]||[]).push([[61],{1131:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return oe}));var c=n(4),i=n(7),s=n(0),o=n(21),a=n(954),l=n(54),r=n(173),d=n(750),u=n(342),j=n(745),b=n(222),O=n(20),v=n(65),h=n(223),p=n(119),m=n(746),f=n(747),x=n(748),y=n(113),g=n(749),D=n(158),N=n(742),k=n(346),C=n(738),S=n(26),A=n(288),w=n.n(A),E=n(289),T=n.n(E),P=n(96),z=n.n(P),I=n(43),U=n(38),Z=n(85),Y=n(64),R=n.n(Y),V=n(140),M=n(34),q=n(740),L=n(898),F=n(741),W=n(899),B=n(343),G=n(900),H=n(1),J=[{id:0,status:"MONDAY"},{id:1,status:"TUESDAY"},{id:2,status:"WEDNESDAY"},{id:3,status:"THURSDAY"},{id:4,status:"FRIDAY"},{id:5,status:"SATURDAY"},{id:6,status:"SUNDAY"}],_=[{id:0,status:"ACTIVE"},{id:1,status:"INACTIVE"}],K=U.d({name:U.f("Enter name here").required("Name is required"),weekDay:U.f("Enter weekday here").required("Weekday is required")});function X(e){var t=e.isOpen,n=e.setOpen,c=e.isEditData,i=Object(V.a)(),s=Object(o.b)(),l={name:(null===c||void 0===c?void 0:c.name)||"",weekDay:(null===c||void 0===c?void 0:c.weekDay)||"",status:(null===c||void 0===c?void 0:c.status)||"ACTIVE"},r=Object(I.f)({mode:"onChange",resolver:Object(Z.a)(K),defaultValues:l}),d=r.reset,u=r.handleSubmit,j=function(){n(!1),d()};return Object(H.jsx)("div",{children:Object(H.jsxs)(q.a,{open:t,classes:{paper:i.dialog},children:[Object(H.jsx)(L.a,{className:i.dialogTitle,children:Object(H.jsxs)("div",{className:i.dialogTitleChild,children:[Object(H.jsx)(D.a,{style:{fontSize:"20px"},children:c?"Update Delivery Zone":"Add Delivery Zone"}),Object(H.jsx)(F.a,{to:"#",onClick:j,children:Object(H.jsx)(R.a,{className:i.closeIcon})})]})}),Object(H.jsxs)(M.a,{methods:r,onSubmit:u((function(e){var t={name:null===e||void 0===e?void 0:e.name,weekDay:null===e||void 0===e?void 0:e.weekDay,status:null===e||void 0===e?void 0:e.status};s(c?Object(a.g)(t,c.id,(function(){s(Object(a.e)()),j()})):Object(a.a)(t,(function(){s(Object(a.e)()),j()})))})),children:[Object(H.jsx)(W.a,{children:Object(H.jsx)(O.a,{container:!0,children:Object(H.jsxs)(O.a,{item:!0,xs:12,children:[Object(H.jsxs)("label",{children:["Zone Name ",Object(H.jsx)("span",{className:i.mandatory,children:"*"})]}),Object(H.jsx)(M.d,{name:"name",autoFocus:!0}),Object(H.jsx)("br",{})," ",Object(H.jsx)("br",{}),Object(H.jsxs)("label",{children:["Day of week ",Object(H.jsx)("span",{className:i.mandatory,children:"*"})]}),Object(H.jsxs)(M.c,{name:"weekDay",label:"",children:[Object(H.jsx)("option",{value:"",children:"Select weekday"}),null===J||void 0===J?void 0:J.map((function(e,t){return Object(H.jsx)("option",{value:null===e||void 0===e?void 0:e.status,children:null===e||void 0===e?void 0:e.status},t)}))]}),Object(H.jsx)("br",{})," ",Object(H.jsx)("br",{}),Object(H.jsxs)("label",{children:["Status",Object(H.jsx)("span",{className:i.mandatory,children:"*"})]}),Object(H.jsx)(M.c,{name:"status",label:"",children:null===_||void 0===_?void 0:_.map((function(e,t){return Object(H.jsx)("option",{value:null===e||void 0===e?void 0:e.status,children:null===e||void 0===e?void 0:e.status},t)}))})]})})}),Object(H.jsx)(B.a,{style:{marginTop:15}}),Object(H.jsxs)(G.a,{className:i.dialogAction,children:[Object(H.jsx)(p.a,{variant:"outlined",color:"secondary",className:i.buttonCancel,onClick:j,children:"Close"}),Object(H.jsx)(p.a,{variant:"contained",type:"submit",className:i.buttonSubmit,children:c?"Update":"Add"})]})]})]})})}var Q=n(290),$=n.n(Q),ee=n(141),te=n.n(ee),ne=n(40),ce=n(62),ie=n(46),se=Object(d.a)((function(e){return{root:{"&:nth-of-type(even)":{backgroundColor:e.palette.action.hover}}}}))(j.a);function oe(){var e=Object(ce.a)();Object(ie.a)({roleList:["ADMIN","SUPER_ADMIN"]});var t=Object(o.b)(),n=Object(u.a)(),d=Object(ne.g)(),j=Object(s.useState)(""),A=Object(i.a)(j,2),E=A[0],P=A[1],I=Object(s.useState)(!1),U=Object(i.a)(I,2),Z=U[0],Y=U[1],R=Object(s.useState)(0),V=Object(i.a)(R,2),M=V[0],q=V[1],L=Object(s.useState)(25),F=Object(i.a)(L,2),W=F[0],B=F[1],G=Object(s.useState)({isOpen:!1,title:"",subTitle:""}),J=Object(i.a)(G,2),_=J[0],K=J[1],Q=Object(s.useState)(null),ee=Object(i.a)(Q,2),oe=ee[0],ae=ee[1],le=Object(o.c)((function(e){return null===e||void 0===e?void 0:e.delivery})).allDeliveryZones,re=null===le||void 0===le?void 0:le.content,de=Object(o.c)((function(e){return null===e||void 0===e?void 0:e.userProfile})).loggedUserProfile;return Object(s.useEffect)((function(){t(Object(a.e)(W,E||""))}),[W,E]),Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)(l.a,{children:[Object(H.jsxs)("div",{className:e.titleContainer,children:[Object(H.jsx)(z.a,{className:e.viewIcon}),Object(H.jsx)("span",{className:e.pageTitle,children:"\xa0 All Delivery Zones "})]}),Object(H.jsxs)(b.a,{elevation:5,className:e.root,children:[Object(H.jsxs)(O.a,{container:!0,spacing:3,style:{display:"flex",justifyContent:"space-between"},children:[Object(H.jsx)(O.a,{item:!0,xs:12,sm:6,md:6,children:Object(H.jsx)("div",{children:Object(H.jsx)(v.a,{className:e.searchControl,id:"input-search-header",value:E,onChange:function(e){return P(e.target.value)},placeholder:"Search",startAdornment:Object(H.jsx)(h.a,{position:"start",children:Object(H.jsx)(S.U,{stroke:1.5,size:"1rem",className:e.startAdornment})})})})}),Object(H.jsx)(O.a,{item:!0,xs:12,sm:6,md:6,children:Object(H.jsx)("div",{className:e.btn,children:Object(H.jsxs)(p.a,{variant:"contained",color:"primary",onClick:function(){Y(!0),ae(null)},className:e.btnAddDeliveryPlan,children:[Object(H.jsx)($.a,{})," Delivery Zone"]})})})]}),Object(H.jsx)(m.a,{className:e.tableContainer,children:Object(H.jsxs)(f.a,{className:e.table,"aria-label":"simple table",children:[Object(H.jsx)(x.a,{className:e.tableHeaderCell,children:Object(H.jsxs)(se,{children:[Object(H.jsx)(y.a,{children:" Zone Name "}),Object(H.jsx)(y.a,{children:" Weekday "}),Object(H.jsx)(y.a,{align:"center",children:" Status "}),Object(H.jsx)(y.a,{align:"right",children:" Action "})]})}),re?Object(H.jsx)(g.a,{children:re.slice(M*W,M*W+W).map((function(i){return Object(H.jsxs)(se,{children:[Object(H.jsx)(y.a,{children:null===i||void 0===i?void 0:i.name}),Object(H.jsx)(y.a,{children:null===i||void 0===i?void 0:i.weekDay}),Object(H.jsx)(y.a,{align:"center",children:Object(H.jsx)(D.a,{className:e.status,style:{backgroundColor:"ACTIVE"===(null===i||void 0===i?void 0:i.status)&&n.palette.success.main||"INACTIVE"===(null===i||void 0===i?void 0:i.status)&&n.palette.warning.dark},children:null===i||void 0===i?void 0:i.status})}),Object(H.jsxs)(y.a,{align:"right",children:[Object(H.jsx)(N.a,{title:"View Pincodes",children:Object(H.jsx)(k.a,{onClick:function(){return e=i.id,void d.push("/admin/delivery-zone/".concat(e));var e},children:Object(H.jsx)(te.a,{color:"primary",style:{cursor:"pointer"}})})}),Object(H.jsx)(N.a,{title:"Update delivery zone",children:Object(H.jsx)(k.a,{onClick:function(){return e=i,Y(!0),void ae(e);var e},children:Object(H.jsx)(w.a,{color:"primary",style:{cursor:"pointer"}})})}),"SUPER_ADMIN"===(null===de||void 0===de?void 0:de.role)&&Object(H.jsx)(N.a,{title:"Delete delivery zone",children:Object(H.jsx)(k.a,{onClick:function(){K({isOpen:!0,title:"Delete Delivery Zone",subTitle:"Are you sure you want to delete this delivery zone?",onConfirm:function(){var e;e=i.id,t(Object(a.c)(e,(function(){t(Object(a.e)())}))),K(Object(c.a)(Object(c.a)({},_),{},{isOpen:!1}))}})},children:Object(H.jsx)(T.a,{color:"error",style:{cursor:"pointer"}})})})]})]},i.id)}))}):Object(H.jsx)("caption",{style:{textAlign:"center"},children:"Sorry! No data available"})]})}),Object(H.jsx)(C.a,{rowsPerPageOptions:[25,50,100],component:"div",count:null===re||void 0===re?void 0:re.length,rowsPerPage:W,page:M,onPageChange:function(e,t){q(t)},onRowsPerPageChange:function(e){B(+e.target.value),q(0)},sx:{".MuiTablePagination-displayedRows":{marginBottom:0},".MuiTablePagination-selectLabel":{marginBottom:0}}})]}),Z&&Object(H.jsx)(X,{isOpen:Z,setOpen:Y,isEditData:oe}),_&&Object(H.jsx)(r.a,{confirmDialog:_,setConfirmDialog:K})]})})}},954:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return O}));var c=n(11),i=n(9),s=n(5),o=function(e){return{type:s.eb,error:e}},a=function(e){return{type:s.Zb,error:e}},l=function(e,t,n){return function(s){try{Object(c.a)("https://prodservice.bookeinstein.com","POST","subscriptions-service/delivery-zones/".concat(t,"/pincodes/").concat(e),!0).then((function(e){s(Object(i.b)(null===e||void 0===e?void 0:e.message)),n&&n(e)})).catch((function(e){var t;s(Object(i.b)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message))}))}catch(o){console.log(o)}}},r=function(e,t){return function(n){try{Object(c.a)("https://prodservice.bookeinstein.com","POST","subscriptions-service/delivery-zones",e,!0).then((function(e){n(Object(i.b)(null===e||void 0===e?void 0:e.message)),t&&t(e)})).catch((function(e){console.log(e)}))}catch(s){console.log(s)}}},d=function(e,t,n){return function(s){try{Object(c.a)("https://prodservice.bookeinstein.com","PUT","subscriptions-service/delivery-zones/".concat(t),e,!0).then((function(e){e&&(s(Object(i.b)(null===e||void 0===e?void 0:e.message)),n&&n(e))})).catch((function(e){console.log(e)}))}catch(o){console.log(o)}}},u=function(e,t){return function(n){try{Object(c.a)("https://prodservice.bookeinstein.com","DELETE","subscriptions-service/delivery-zones/".concat(e),!0).then((function(e){n(Object(i.b)("Delivery zone deleted successfully")),t&&t(e)})).catch((function(e){console.log(e)}))}catch(s){console.log(s)}}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1";return function(a){a({type:s.fb});try{Object(c.a)("https://prodservice.bookeinstein.com","GET","subscriptions-service/delivery-zones?searchKey=".concat(t,"&pageNumber=").concat(n,"&pageSize=").concat(e),!0).then((function(e){a(function(e){return{type:s.gb,payload:e}}({allDeliveryZones:e}))})).catch((function(e){a(o(e)),a(Object(i.b)(null===e||void 0===e?void 0:e.message))}))}catch(l){a(o("Something went wrong"))}}},b=function(e){return function(t){t({type:s.Xb});try{Object(c.a)("https://prodservice.bookeinstein.com","GET","subscriptions-service/delivery-zones/".concat(e,"/pincodes"),!0).then((function(e){t(function(e){return{type:s.Yb,payload:e}}({allPincodes:e}))})).catch((function(e){t(a(e)),t(Object(i.b)(null===e||void 0===e?void 0:e.message))}))}catch(n){t(a("Something went wrong"))}}},O=function(e,t,n){return function(s){try{Object(c.a)("https://prodservice.bookeinstein.com","DELETE","subscriptions-service/delivery-zones/".concat(e,"/pincodes/").concat(t),!0).then((function(e){s(Object(i.b)("Pincode deleted successfully")),n&&n(e)})).catch((function(e){console.log(e)}))}catch(o){console.log(o)}}}}}]);
//# sourceMappingURL=61.91abe699.chunk.js.map