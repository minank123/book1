(this["webpackJsonpbookeinstein-app"]=this["webpackJsonpbookeinstein-app"]||[]).push([[21,39,53],{1130:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return be}));var n=c(4),a=c(7),i=c(0),l=c.n(i),s=c(21),o=c(226),r=c(40),d=c(750),j=c(342),b=c(745),u=c(222),O=c(20),h=c(65),v=c(223),m=c(119),x=c(746),p=c(747),f=c(748),g=c(113),y=c(749),k=c(158),S=c(742),N=c(346),A=c(738),D=c(26),w=c(141),C=c.n(w),E=c(288),I=c.n(E),M=c(290),P=c.n(M),T=c(97),q=c.n(T),B=c(43),F=c(85),L=c(34),R=c(38),U=c(64),z=c.n(U),H=c(740),V=c(898),W=c(741),Y=c(899),_=c(911),G=c(941),J=c(343),K=c(900),$=c(140),Q=c(1),X=[{id:0,status:"ACTIVE"},{id:1,status:"INACTIVE"}],Z=[{id:0,status:"WEEKLY"},{id:1,status:"FORTNIGHTLY"},{id:2,status:"MONTHLY"}],ee=[{id:0,status:"MONDAY"},{id:1,status:"TUESDAY"},{id:2,status:"WEDNESDAY"},{id:3,status:"THURSDAY"},{id:4,status:"FRIDAY"},{id:5,status:"SATURDAY"},{id:6,status:"SUNDAY"}];function te(e){var t=e.addEditSchoolPopup,c=e.setAddEditSchoolPopup,r=e.isEditData,d=(Object(s.c)((function(e){return null===e||void 0===e?void 0:e.userProfile})).loggedUserProfile,Object($.a)()),j=Object(s.b)(),b=l.a.useState(!1),u=Object(a.a)(b,2),h=(u[0],u[1]),v={name:(null===r||void 0===r?void 0:r.name)||"",branch:(null===r||void 0===r?void 0:r.branch)||"",weekDay:(null===r||void 0===r?void 0:r.weekDay)||"MONDAY",isStockManagementAllowed:(null===r||void 0===r?void 0:r.stockManagementAllowed)||"",bookFrequency:(null===r||void 0===r?void 0:r.bookFrequency)||"WEEKLY",numberOfBooksAllowed:(null===r||void 0===r?void 0:r.numberOfBooksAllowed)||1,address:(null===r||void 0===r?void 0:r.address)||"",pincode:(null===r||void 0===r?void 0:r.pincode)||"",status:(null===r||void 0===r?void 0:r.status)||"INACTIVE"},x=R.d({name:R.f("Enter school name").required("School Name is required").trim(),branch:R.f("Enter branch name").required("Branch name is required").trim(),weekDay:R.f("Select Weekday").required("Required"),bookFrequency:R.f("Select Frequency").when("stockMangement",{is:!0,then:R.f().required("Required")}),numberOfBooksAllowed:R.f("Enter Books Count").when("stockMangement",{is:!0,then:R.f().required("Required").matches(/^\d*[1-9]\d*$/,"Input valid number")}),address:R.f("Enter school address").required("School address is required").trim(),pincode:R.f("Enter School pincode").required("School pincode is required").trim(),status:R.f()}),p=Object(B.f)({mode:"onChange",resolver:Object(F.a)(x),defaultValues:v}),f=p.reset,g=p.handleSubmit,y=(p.setValue,p.control),S=p.watch,N=function(){c(!1),f()},A=S("stockMangement");return Object(i.useEffect)((function(){h(null===r||void 0===r?void 0:r.stockManagementAllowed)}),[r]),Object(Q.jsx)("div",{children:Object(Q.jsxs)(H.a,{open:t,classes:{paper:d.dialog},children:[Object(Q.jsx)(V.a,{className:d.dialogTitle,children:Object(Q.jsxs)("div",{className:d.dialogTitleChild,children:[Object(Q.jsx)(k.a,{style:{fontSize:"20px"},children:r?"Update School":"Add School"}),Object(Q.jsx)(W.a,{to:"#",onClick:N,children:Object(Q.jsx)(z.a,{className:d.closeIcon})})]})}),Object(Q.jsxs)(L.a,{methods:p,onSubmit:g((function(e){var t={};t=A?{name:null===e||void 0===e?void 0:e.name.trim(),branch:null===e||void 0===e?void 0:e.branch,weekDay:null===e||void 0===e?void 0:e.weekDay,isStockManagementAllowed:A,bookFrequency:null===e||void 0===e?void 0:e.bookFrequency,numberOfBooksAllowed:parseInt(null===e||void 0===e?void 0:e.numberOfBooksAllowed),address:null===e||void 0===e?void 0:e.address,pincode:null===e||void 0===e?void 0:e.pincode,status:null===e||void 0===e?void 0:e.status}:{name:null===e||void 0===e?void 0:e.name.trim(),branch:null===e||void 0===e?void 0:e.branch,weekDay:null===e||void 0===e?void 0:e.weekDay,isStockManagementAllowed:A,address:null===e||void 0===e?void 0:e.address,pincode:null===e||void 0===e?void 0:e.pincode,status:null===e||void 0===e?void 0:e.status},r?(j(Object(o.h)(t,null===r||void 0===r?void 0:r.id,"Update Sucessfully",(function(){j(Object(o.c)())}))),N()):(j(Object(o.a)(t,(function(){j(Object(o.c)())}))),N())})),children:[Object(Q.jsx)(Y.a,{children:Object(Q.jsxs)(O.a,{container:!0,spacing:2,children:[Object(Q.jsxs)(O.a,{item:!0,xs:12,sm:6,children:[Object(Q.jsxs)("label",{className:d.label,children:["School Name ",Object(Q.jsx)("span",{className:d.mandatory,children:"*"})]}),Object(Q.jsx)(L.d,{name:"name",placeholder:"Name",className:d.textField,autoFocus:!0})]}),Object(Q.jsxs)(O.a,{item:!0,xs:12,sm:6,children:[Object(Q.jsxs)("label",{className:d.label,children:["School Branch ",Object(Q.jsx)("span",{className:d.mandatory,children:"*"})]}),Object(Q.jsx)(L.d,{name:"branch",placeholder:"Branch",className:d.textField})]}),Object(Q.jsxs)(O.a,{item:!0,xs:12,sm:6,children:[Object(Q.jsxs)("label",{className:d.label,children:["Select weekDay ",Object(Q.jsx)("span",{className:d.mandatory,children:"*"})]}),Object(Q.jsx)(L.c,{name:"weekDay",label:"",children:null===ee||void 0===ee?void 0:ee.map((function(e,t){return Object(Q.jsx)("option",{value:null===e||void 0===e?void 0:e.status,children:null===e||void 0===e?void 0:e.status},t)}))})]}),Object(Q.jsxs)(O.a,{item:!0,xs:12,sm:6,children:[Object(Q.jsxs)("label",{className:d.label,children:["Stock Management ",Object(Q.jsx)("span",{className:d.mandatory,children:"*"})]}),Object(Q.jsx)(_.a,{control:Object(Q.jsx)(B.a,{name:"stockMangement",control:y,render:function(e){var t=e.field;return Object(Q.jsx)(G.a,Object(n.a)(Object(n.a)({},t),{},{checked:t.value}))}}),label:"Stock Management Allowed"})]}),Object(Q.jsxs)(O.a,{item:!0,xs:12,sm:6,children:[Object(Q.jsxs)("label",{className:d.label,children:["Book Frequency ",Object(Q.jsx)("span",{className:d.mandatory,children:"*"})]}),Object(Q.jsx)(L.c,{name:"bookFrequency",label:"",disabled:!A,children:null===Z||void 0===Z?void 0:Z.map((function(e,t){return Object(Q.jsx)("option",{value:null===e||void 0===e?void 0:e.status,children:null===e||void 0===e?void 0:e.status},t)}))})]}),Object(Q.jsxs)(O.a,{item:!0,xs:12,sm:6,children:[Object(Q.jsxs)("label",{className:d.label,children:["No Of Books Allowed ",Object(Q.jsx)("span",{className:d.mandatory,children:"*"})]}),Object(Q.jsx)(L.d,{name:"numberOfBooksAllowed",placeholder:"Books Allowed",className:d.textField,disabled:!A,type:"number"})]}),Object(Q.jsxs)(O.a,{item:!0,xs:12,sm:12,children:[Object(Q.jsxs)("label",{className:d.label,children:["Address ",Object(Q.jsx)("span",{className:d.mandatory,children:"*"})]}),Object(Q.jsx)(L.d,{name:"address",placeholder:"Address",className:d.textField})]}),Object(Q.jsxs)(O.a,{item:!0,xs:12,sm:6,children:[Object(Q.jsxs)("label",{className:d.label,children:["PinCode ",Object(Q.jsx)("span",{className:d.mandatory,children:"*"})]}),Object(Q.jsx)(L.d,{name:"pincode",placeholder:"PinCode",className:d.textField})]}),Object(Q.jsxs)(O.a,{item:!0,xs:12,sm:6,children:[Object(Q.jsxs)("label",{children:["School Status ",Object(Q.jsx)("span",{className:d.mandatory,children:"*"})]}),Object(Q.jsx)(L.c,{name:"status",label:"",children:null===X||void 0===X?void 0:X.map((function(e,t){return Object(Q.jsx)("option",{value:null===e||void 0===e?void 0:e.status,children:null===e||void 0===e?void 0:e.status},t)}))})]})]})}),Object(Q.jsx)(J.a,{style:{marginTop:15}}),Object(Q.jsxs)(K.a,{className:d.dialogAction,children:[Object(Q.jsx)(m.a,{variant:"outlined",color:"primary",className:d.buttonCancel,onClick:N,children:"Close"}),Object(Q.jsx)(m.a,{variant:"contained",color:"primary",type:"submit",className:d.buttonSubmit,children:r?"Update":"Add"})]})]})]})})}var ce=c(62),ne=(c(999),c(54)),ae=c(29),ie=c.n(ae),le=c(46),se=c(289),oe=c.n(se),re=c(173),de=Object(d.a)((function(e){return{root:{"&:nth-of-type(even)":{backgroundColor:e.palette.action.hover}}}}))(b.a),je=ie.a.get("schoolId");function be(){var e=Object(ce.a)();Object(le.a)({roleList:["ADMIN","SCHOOL_ADMIN","SUPER_ADMIN"]});var t=Object(s.c)((function(e){return null===e||void 0===e?void 0:e.userProfile})).loggedUserProfile,c=Object(r.g)(),l=Object(s.b)(),d=Object(j.a)(),b=Object(i.useState)(0),w=Object(a.a)(b,2),E=w[0],M=w[1],T=Object(i.useState)(25),B=Object(a.a)(T,2),F=B[0],L=B[1],R=Object(i.useState)(""),U=Object(a.a)(R,2),z=U[0],H=U[1],V=Object(i.useState)(!1),W=Object(a.a)(V,2),Y=W[0],_=W[1],G=Object(i.useState)(""),J=Object(a.a)(G,2),K=J[0],$=(J[1],Object(i.useState)(null)),X=Object(a.a)($,2),Z=X[0],ee=X[1],ae=Object(s.c)((function(e){return null===e||void 0===e?void 0:e.school})).getAllSchoolData,ie=null===ae||void 0===ae?void 0:ae.content,se=null===ae||void 0===ae?void 0:ae.totalElements,be=Object(i.useState)({isOpen:!1,title:"",subTitle:""}),ue=Object(a.a)(be,2),Oe=ue[0],he=ue[1];return Object(i.useEffect)((function(){l(Object(o.c)(F,z||"",E+1))}),[F,z,E]),Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)(ne.a,{children:[Object(Q.jsxs)("div",{className:e.titleContainer,children:[Object(Q.jsx)(q.a,{className:e.viewIcon}),("ADMIN"===(null===t||void 0===t?void 0:t.role)||"SUPER_ADMIN"===(null===t||void 0===t?void 0:t.role))&&Object(Q.jsx)("span",{className:e.pageTitle,children:"\xa0 All Schools"}),"SCHOOL_ADMIN"===(null===t||void 0===t?void 0:t.role)&&Object(Q.jsx)("span",{className:e.pageTitle,children:"\xa0 Your School "})]}),Object(Q.jsxs)(u.a,{elevation:5,className:e.root,children:[Object(Q.jsxs)(O.a,{container:!0,spacing:3,style:{display:"flex",justifyContent:"space-between"},children:[Object(Q.jsx)(O.a,{item:!0,xs:12,sm:6,md:6,children:Object(Q.jsx)("div",{children:Object(Q.jsx)(h.a,{className:e.searchControl,id:"input-search-header",onChange:function(e){return function(e){var t;H(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value),M(0)}(e)},placeholder:"Search",startAdornment:Object(Q.jsx)(v.a,{position:"start",children:Object(Q.jsx)(D.U,{stroke:1.5,size:"1rem",className:e.startAdornment})})})})}),Object(Q.jsx)(O.a,{item:!0,xs:12,sm:6,md:6,children:Object(Q.jsx)("div",{className:e.btn,children:("ADMIN"===(null===t||void 0===t?void 0:t.role)||"SUPER_ADMIN"===(null===t||void 0===t?void 0:t.role))&&Object(Q.jsxs)(m.a,{variant:"contained",color:"primary",style:{boxShadow:"0 0.5em 0.5em 0.1em #68c2d9"},onClick:function(){_(!0),ee(null)},children:[Object(Q.jsx)(P.a,{})," School"]})})})]}),Object(Q.jsx)(x.a,{className:e.tableContainer,children:Object(Q.jsxs)(p.a,{className:e.table,"aria-label":"simple table",children:[Object(Q.jsx)(f.a,{className:e.tableHeaderCell,children:Object(Q.jsxs)(de,{children:[Object(Q.jsx)(g.a,{align:"center",children:" School Id "}),Object(Q.jsx)(g.a,{align:"center",children:" Name "}),Object(Q.jsx)(g.a,{align:"center",children:" Branch "}),Object(Q.jsx)(g.a,{align:"center",children:" School Address "}),Object(Q.jsx)(g.a,{align:"center",children:" Pin Code "}),Object(Q.jsx)(g.a,{align:"center",children:" Status "}),Object(Q.jsx)(g.a,{align:"center",children:" Action "})]})}),ie?Object(Q.jsx)(y.a,{children:null===ie||void 0===ie?void 0:ie.map((function(a,i){return Object(Q.jsxs)(de,{children:[Object(Q.jsxs)(g.a,{align:"center",children:[" ",(null===a||void 0===a?void 0:a.id)||"-"," "]}),Object(Q.jsxs)(g.a,{align:"center",children:[" ",(null===a||void 0===a?void 0:a.name)||"-"," "]}),Object(Q.jsxs)(g.a,{align:"center",children:[" ",null===a||void 0===a?void 0:a.branch," "]}),Object(Q.jsxs)(g.a,{align:"center",children:[" ",(null===a||void 0===a?void 0:a.address)||"-"," "]}),Object(Q.jsxs)(g.a,{align:"center",children:[" ",null===a||void 0===a?void 0:a.pincode," "]}),Object(Q.jsx)(g.a,{align:"center",children:Object(Q.jsx)(k.a,{className:e.status,style:{backgroundColor:"ACTIVE"===(null===a||void 0===a?void 0:a.status)&&d.palette.success.main||"INACTIVE"===(null===a||void 0===a?void 0:a.status)&&d.palette.warning.dark},children:null===a||void 0===a?void 0:a.status})}),Object(Q.jsx)(g.a,{align:"center",children:Object(Q.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(Q.jsx)(S.a,{title:"View School",children:Object(Q.jsx)(N.a,{onClick:function(){return e=null===a||void 0===a?void 0:a.id,void c.push({pathname:"/admin/school/".concat(e),state:{cookieid:je}});var e},children:Object(Q.jsx)(C.a,{color:"primary",fontSize:"small",style:{cursor:"pointer"}})})}),Object(Q.jsx)(S.a,{title:"Update School",children:Object(Q.jsx)(N.a,{style:{cursor:"pointer"},onClick:function(){return e=a,_(!0),void ee(e);var e},children:Object(Q.jsx)(I.a,{color:"primary"})})}),"SUPER_ADMIN"===(null===t||void 0===t?void 0:t.role)&&Object(Q.jsx)(S.a,{title:"Delete Book trial",children:Object(Q.jsx)(N.a,{onClick:function(){he({isOpen:!0,title:"Delete Book trial",subTitle:"Are you sure you want to delete ?",onConfirm:function(){!function(e,t){var c={name:null===t||void 0===t?void 0:t.name,branch:null===t||void 0===t?void 0:t.branch,address:null===t||void 0===t?void 0:t.address,pincode:null===t||void 0===t?void 0:t.pincode,weekDay:null===t||void 0===t?void 0:t.weekDay,bookFrequency:null===t||void 0===t?void 0:t.bookFrequency,numberOfBooksAllowed:null===t||void 0===t?void 0:t.numberOfBooksAllowed,status:"INACTIVE",stockManagementAllowed:null===t||void 0===t?void 0:t.stockManagementAllowed};l(Object(o.h)(c,e,"School Deleted Successfully",(function(){l(Object(o.c)(F,z||"",E+1))}))),he(Object(n.a)(Object(n.a)({},Oe),{},{isOpen:!1}))}(a.id,a)}})},children:Object(Q.jsx)(oe.a,{color:"error",style:{cursor:"pointer"}})})})]})})]},i)}))}):Object(Q.jsx)("caption",{style:{textAlign:"center"},children:"Sorry! No data available"})]})}),Object(Q.jsx)(A.a,{rowsPerPageOptions:[25,50,100],component:"div",count:se,rowsPerPage:F,page:E,onPageChange:function(e,t){M(t)},onRowsPerPageChange:function(e){L(+e.target.value)},sx:{".MuiTablePagination-displayedRows":{marginBottom:0},".MuiTablePagination-selectLabel":{marginBottom:0}}})]}),Y&&Object(Q.jsx)(te,{addEditSchoolPopup:Y,setAddEditSchoolPopup:_,id:K,isEditData:Z}),Oe&&Object(Q.jsx)(re.a,{confirmDialog:Oe,setConfirmDialog:he})]})})}},941:function(e,t,c){"use strict";var n=c(3),a=c(6),i=c(2),l=c(0),s=c(218),o=c(220),r=c(348),d=c(48),j=c(1),b=Object(d.a)(Object(j.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),u=Object(d.a)(Object(j.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),O=Object(d.a)(Object(j.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),h=c(17),v=c(18),m=c(10),x=c(197),p=c(219);function f(e){return Object(x.a)("MuiCheckbox",e)}var g=Object(p.a)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),y=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],k=Object(m.a)(r.a,{shouldForwardProp:function(e){return Object(m.b)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var c=e.ownerState;return[t.root,c.indeterminate&&t.indeterminate,"default"!==c.color&&t["color".concat(Object(h.a)(c.color))]]}})((function(e){var t,c=e.theme,a=e.ownerState;return Object(i.a)({color:c.palette.text.secondary},!a.disableRipple&&{"&:hover":{backgroundColor:Object(o.a)("default"===a.color?c.palette.action.active:c.palette[a.color].main,c.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==a.color&&(t={},Object(n.a)(t,"&.".concat(g.checked,", &.").concat(g.indeterminate),{color:c.palette[a.color].main}),Object(n.a)(t,"&.".concat(g.disabled),{color:c.palette.action.disabled}),t))})),S=Object(j.jsx)(u,{}),N=Object(j.jsx)(b,{}),A=Object(j.jsx)(O,{}),D=l.forwardRef((function(e,t){var c,n,o=Object(v.a)({props:e,name:"MuiCheckbox"}),r=o.checkedIcon,d=void 0===r?S:r,b=o.color,u=void 0===b?"primary":b,O=o.icon,m=void 0===O?N:O,x=o.indeterminate,p=void 0!==x&&x,g=o.indeterminateIcon,D=void 0===g?A:g,w=o.inputProps,C=o.size,E=void 0===C?"medium":C,I=Object(a.a)(o,y),M=p?D:m,P=p?D:d,T=Object(i.a)({},o,{color:u,indeterminate:p,size:E}),q=function(e){var t=e.classes,c=e.indeterminate,n=e.color,a={root:["root",c&&"indeterminate","color".concat(Object(h.a)(n))]},l=Object(s.a)(a,f,t);return Object(i.a)({},t,l)}(T);return Object(j.jsx)(k,Object(i.a)({type:"checkbox",inputProps:Object(i.a)({"data-indeterminate":p},w),icon:l.cloneElement(M,{fontSize:null!=(c=M.props.fontSize)?c:E}),checkedIcon:l.cloneElement(P,{fontSize:null!=(n=P.props.fontSize)?n:E}),ownerState:T,ref:t},I,{classes:q}))}));t.a=D},943:function(e,t,c){"use strict";c.d(t,"d",(function(){return o})),c.d(t,"c",(function(){return d})),c.d(t,"a",(function(){return s})),c.d(t,"b",(function(){return r}));var n=c(11),a=c(9),i=c(5),l=function(e){return{type:i.Cb,error:e}},s=function(e,t,c){return function(i){try{Object(n.a)("https://prodservice.bookeinstein.com","POST","schools-service/schools/".concat(t,"/leaves"),e,!0).then((function(e){i(Object(a.b)(null===e||void 0===e?void 0:e.message)),c&&c(e)})).catch((function(e){var t;console.log(e),e.code,i(Object(a.b)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message))}))}catch(l){l.code}}},o=function(e,t,c){return function(i){try{Object(n.a)("https://prodservice.bookeinstein.com","PUT","schools-service/schools/leaves/".concat(t),e,!0).then((function(e){e&&(i(Object(a.b)(null===e||void 0===e?void 0:e.message)),c&&c(e))})).catch((function(e){var t;console.log(e),i(Object(a.b)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message))}))}catch(s){var l;i(Object(a.b)(null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)),console.log(s)}}},r=function(e,t){return function(c){try{Object(n.a)("https://prodservice.bookeinstein.com","DELETE","schools-service/schools/leaves/".concat(e),!0).then((function(e){c(Object(a.b)("Leave deleted successfully")),t&&t(e)})).catch((function(e){var t;c(Object(a.b)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)),console.log(e)}))}catch(i){console.log(i)}}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(s,o){s({type:i.Db});try{Object(n.a)("https://prodservice.bookeinstein.com","GET","schools-service/schools/".concat(e,"/leaves?pageNumber=").concat(c,"&pageSize=").concat(t),!0).then((function(e){s(function(e){return{type:i.Eb,payload:e}}({allLeaves:e}))})).catch((function(e){s(l(e)),s(Object(a.b)(null===e||void 0===e?void 0:e.message))}))}catch(r){s(l("Something went wrong"))}}}},944:function(e,t,c){"use strict";var n=c(1105),a=c(1104),i=c(342),l=c(1);t.a=function(e){var t=e.isError,c=e.setError,s=e.message,o=Object(i.a)();return Object(l.jsx)(n.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:t,autoHideDuration:3e3,onClose:function(){return c(!1)},children:Object(l.jsx)(a.a,{onClose:function(){return c(!1)},severity:"error",style:{background:o.palette.error.dark,color:"#fff"},children:s})})}},966:function(e,t,c){"use strict";c.r(t);var n=c(16),a=c(4),i=c(28),l=c(7),s=c(0),o=c(21),r=c(943),d=c(64),j=c.n(d),b=c(43),u=c(38),O=c(85),h=c(34),v=c(349),m=c(944),x=c(740),p=c(898),f=c(158),g=c(741),y=c(899),k=c(20),S=c(343),N=c(900),A=c(119),D=c(140),w=c(1),C=u.d({title:u.f("Enter Title here").required("Title is required"),description:u.f("Enter Description here").required("Description is required"),startDate:u.f("Enter Start Date here").required("Start Date is required"),endDate:u.f("Enter End Date here").required("End Date is required")});function E(e){var t=e.isOpen,c=e.setOpen,a=e.isError,d=e.setError,u=e.isEditData,E=e.id,I=Object(D.a)(),M=Object(s.useState)(!1),P=Object(l.a)(M,2),T=P[0],q=(P[1],Object(o.b)()),B={title:(null===u||void 0===u?void 0:u.title)||"",description:(null===u||void 0===u?void 0:u.description)||"",startDate:(null===u||void 0===u?void 0:u.startDate)||"",endDate:(null===u||void 0===u?void 0:u.endDate)||""},F=Object(b.f)({mode:"onChange",resolver:Object(O.a)(C),defaultValues:B}),L=F.reset,R=F.handleSubmit,U=function(){c(!1),L()},z=function(){var e=Object(i.a)(Object(n.a)().mark((function e(t){var c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c={title:null===t||void 0===t?void 0:t.title,description:null===t||void 0===t?void 0:t.description,startDate:null===t||void 0===t?void 0:t.startDate,endDate:null===t||void 0===t?void 0:t.endDate},u?(q(Object(r.d)(c,u.id,(function(){q(Object(r.c)(u.schoolId))}))),U()):(q(Object(r.a)(c,E,(function(){q(Object(r.c)(E))}))),U());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{children:[Object(w.jsxs)(x.a,{open:t,onClose:function(e,t){"backdropClick"!==t&&U()},classes:{paper:I.dialog},children:[Object(w.jsx)(p.a,{className:I.dialogTitle,children:Object(w.jsxs)("div",{className:I.dialogTitleChild,children:[Object(w.jsx)(f.a,{style:{fontSize:"20px"},children:u?"Update Leave":"Add Leave"}),Object(w.jsx)(g.a,{to:"#",onClick:U,children:Object(w.jsx)(j.a,{className:I.closeIcon})})]})}),Object(w.jsxs)(h.a,{methods:F,onSubmit:R(z),children:[Object(w.jsx)(y.a,{children:Object(w.jsxs)(k.a,{container:!0,children:[Object(w.jsxs)(k.a,{item:!0,xs:12,children:[Object(w.jsxs)("label",{children:["Title ",Object(w.jsx)("span",{className:I.mandatory,children:"*"})]}),Object(w.jsx)(h.d,{name:"title",placeholder:"Title here",autoFocus:!0}),Object(w.jsx)("br",{})," ",Object(w.jsx)("br",{})]}),Object(w.jsxs)(k.a,{item:!0,xs:12,children:[Object(w.jsxs)("label",{children:["Description ",Object(w.jsx)("span",{className:I.mandatory,children:"*"})]}),Object(w.jsx)(h.d,{name:"description",placeholder:"Description here",className:I.textField})," ",Object(w.jsx)("br",{})," ",Object(w.jsx)("br",{})]}),Object(w.jsxs)(k.a,{item:!0,xs:12,children:[Object(w.jsxs)("label",{className:I.label,children:["Start Date ",Object(w.jsx)("span",{className:I.mandatory,children:"*"})]}),Object(w.jsx)(h.d,{type:"date",name:"startDate",placeholder:"Start Date",className:I.textField})," ",Object(w.jsx)("br",{})," ",Object(w.jsx)("br",{})]}),Object(w.jsxs)(k.a,{item:!0,xs:12,children:[Object(w.jsxs)("label",{className:I.label,children:["End Date ",Object(w.jsx)("span",{className:I.mandatory,children:"*"})]}),Object(w.jsx)(h.d,{type:"date",name:"endDate",placeholder:"End Date",className:I.textField})]})]})}),Object(w.jsx)(S.a,{style:{marginTop:15}}),Object(w.jsxs)(N.a,{className:I.dialogAction,children:[Object(w.jsx)(A.a,{variant:"outlined",color:"secondary",className:I.buttonCancel,onClick:U,children:"Close"}),Object(w.jsx)(A.a,{variant:"contained",type:"submit",className:I.buttonSubmit,children:u?"Update":"Add"})]})]})]}),Object(w.jsx)("span",{className:I.loader,children:T?Object(v.a)():""}),Object(w.jsx)(m.a,{isError:a,setError:d,message:"Something went wrong !"})]})}var I=c(750),M=c(745),P=c(222),T=c(746),q=c(747),B=c(748),F=c(113),L=c(749),R=c(346),U=c(738),z=c(288),H=c.n(z),V=c(289),W=c.n(V),Y=c(290),_=c.n(Y),G=c(97),J=c.n(G),K=c(62),$=c(173),Q=c(46),X=Object(I.a)((function(e){return{root:{"&:nth-of-type(even)":{backgroundColor:e.palette.action.hover}}}}))(M.a);t.default=function(e){var t=Object(K.a)();Object(Q.a)({roleList:["ADMIN","SCHOOL_ADMIN","SUPER_ADMIN"]});var c=Object(o.b)(),d=Object(s.useState)(0),j=Object(l.a)(d,2),b=j[0],u=j[1],O=Object(s.useState)(25),h=Object(l.a)(O,2),v=h[0],m=h[1],x=Object(s.useState)(!1),p=Object(l.a)(x,2),f=p[0],g=p[1],y=Object(s.useState)({isOpen:!1,title:"",subTitle:""}),k=Object(l.a)(y,2),S=k[0],N=k[1],D=Object(s.useState)(null),C=Object(l.a)(D,2),I=C[0],M=C[1],z=Object(o.c)((function(e){return null===e||void 0===e?void 0:e.leave})).allLeaves,V=null===z||void 0===z?void 0:z.content,Y=function(){var t=Object(i.a)(Object(n.a)().mark((function t(i){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c(Object(r.b)(i,(function(){c(Object(r.c)(null===e||void 0===e?void 0:e.id,v,b+1))}))),N(Object(a.a)(Object(a.a)({},S),{},{isOpen:!1}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){c(Object(r.c)(null===e||void 0===e?void 0:e.id,v,b+1))}),[null===e||void 0===e?void 0:e.id,v,b]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:t.titleContainer,children:[Object(w.jsx)(J.a,{className:t.viewIcon}),Object(w.jsx)("span",{className:t.pageTitle,children:"\xa0 Schools Leaves "})]}),Object(w.jsxs)(P.a,{elevation:5,className:t.root,children:[Object(w.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(w.jsxs)(A.a,{variant:"contained",color:"primary",style:{boxShadow:"0 0.5em 0.5em 0.1em #68c2d9"},onClick:function(){g(!0),M(null)},children:[Object(w.jsx)(_.a,{})," Leaves"]})}),Object(w.jsx)(T.a,{className:t.tableContainer,children:Object(w.jsxs)(q.a,{className:t.table,"aria-label":"simple table",children:[Object(w.jsx)(B.a,{className:t.tableHeaderCell,children:Object(w.jsxs)(X,{children:[Object(w.jsx)(F.a,{children:" Title "}),Object(w.jsx)(F.a,{children:" Description "}),Object(w.jsx)(F.a,{children:" Start Date "}),Object(w.jsx)(F.a,{children:" End Date "}),Object(w.jsx)(F.a,{align:"right",children:" Action "})]})}),V?Object(w.jsx)(L.a,{children:null===V||void 0===V?void 0:V.map((function(e,t){return Object(w.jsxs)(X,{children:[Object(w.jsxs)(F.a,{children:[" ",e.title," "]}),Object(w.jsxs)(F.a,{children:[" ",e.description," "]}),Object(w.jsxs)(F.a,{children:[" ",e.startDate," "]}),Object(w.jsxs)(F.a,{children:[" ",e.endDate," "]}),Object(w.jsxs)(F.a,{align:"right",children:[Object(w.jsx)(R.a,{style:{cursor:"pointer"},onClick:function(){return t=e,g(!0),void M(t);var t},children:Object(w.jsx)(H.a,{color:"primary"})}),Object(w.jsx)(R.a,{onClick:function(){N({isOpen:!0,title:"Delete Leave",subTitle:"Are you sure you want to delete this school leave.",onConfirm:function(){Y(e.id)}})},children:Object(w.jsx)(W.a,{color:"error",style:{cursor:"pointer"}})})]})]},t)}))}):Object(w.jsx)("caption",{style:{textAlign:"center"},children:"Sorry! No data available"})]})}),Object(w.jsx)(U.a,{rowsPerPageOptions:[25,50,100],component:"div",count:(null===z||void 0===z?void 0:z.totalElements)||0,rowsPerPage:v,page:b,onPageChange:function(e,t){u(t)},onRowsPerPageChange:function(e){m(+e.target.value)},sx:{".MuiTablePagination-displayedRows":{marginBottom:0},".MuiTablePagination-selectLabel":{marginBottom:0}}})]}),f&&Object(w.jsx)(E,{isOpen:f,setOpen:g,id:e.id,isEditData:I}),S&&Object(w.jsx)($.a,{confirmDialog:S,setConfirmDialog:N})]})}},999:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return N}));var n=c(16),a=c(28),i=c(7),l=c(0),s=c(21),o=c(222),r=c(343),d=c(20),j=c(65),b=c(97),u=c.n(b),O=c(62),h=c(943),v=c(40),m=c(42),x=c.n(m),p=c(966),f=c(46),g=c(29),y=c.n(g),k=c(1),S=y.a.get("schoolId");function N(){var e,t,c,b=Object(O.a)();Object(f.a)({roleList:["ADMIN","SCHOOL_ADMIN","SUPER_ADMIN"]});var m=Object(s.b)(),g=Object(v.i)().id,N=Object(v.h)(),A=null===N||void 0===N||null===(e=N.state)||void 0===e?void 0:e.cookieid,D=null===(t=window)||void 0===t||null===(c=t.location)||void 0===c?void 0:c.pathname,w=Object(l.useState)(null),C=Object(i.a)(w,2),E=C[0],I=C[1],M=function(){var e=Object(a.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("https://prodservice.bookeinstein.com","/schools-service/schools/").concat(t)).then((function(e){I(null===e||void 0===e?void 0:e.data)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){return"/schooladmin/school"===D?A:g};return Object(l.useEffect)((function(){var e=y.a.get("schoolId");"/schooladmin/school"===D?e&&(m(Object(h.c)("".concat(e))),M("".concat(e))):(m(Object(h.c)(g)),M(g))}),[S,g]),Object(l.useEffect)((function(){A&&P()}),[A]),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(o.a,{style:{padding:20},children:[Object(k.jsxs)("div",{className:b.titleContainer,children:[Object(k.jsx)(u.a,{className:b.viewIcon}),Object(k.jsx)("span",{className:b.pageTitle,children:"\xa0 School Details "})]}),Object(k.jsx)(r.a,{style:{margin:"30px 0px"}}),Object(k.jsxs)(d.a,{container:!0,rowSpacing:4,children:[Object(k.jsxs)(d.a,{item:!0,container:!0,spacing:2,children:[Object(k.jsx)(d.a,{item:!0,xs:12,sm:2,children:Object(k.jsx)("label",{style:{verticalAlign:"sub"},children:" School Name "})}),Object(k.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(j.a,{name:"name",disabled:!0,value:null===E||void 0===E?void 0:E.name,fullWidth:!0})})]}),Object(k.jsxs)(d.a,{item:!0,container:!0,spacing:2,children:[Object(k.jsx)(d.a,{item:!0,xs:12,sm:2,children:Object(k.jsx)("label",{style:{verticalAlign:"sub"},children:" School Branch "})}),Object(k.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(j.a,{name:"name",disabled:!0,value:null===E||void 0===E?void 0:E.branch,fullWidth:!0})})]}),Object(k.jsxs)(d.a,{item:!0,container:!0,spacing:2,children:[Object(k.jsx)(d.a,{item:!0,xs:12,sm:2,children:Object(k.jsx)("label",{style:{verticalAlign:"sub"},children:" Stock Management Allowed "})}),Object(k.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(j.a,{name:"name",disabled:!0,value:!0===(null===E||void 0===E?void 0:E.stockManagementAllowed)?"Yes":"No",fullWidth:!0})})]}),Object(k.jsxs)(d.a,{item:!0,container:!0,spacing:2,children:[Object(k.jsx)(d.a,{item:!0,xs:12,sm:2,children:Object(k.jsx)("label",{style:{verticalAlign:"sub"},children:" Weekday "})}),Object(k.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(j.a,{name:"name",disabled:!0,value:null===E||void 0===E?void 0:E.weekDay,fullWidth:!0})})]}),Object(k.jsxs)(d.a,{item:!0,container:!0,spacing:2,children:[Object(k.jsx)(d.a,{item:!0,xs:12,sm:2,children:Object(k.jsx)("label",{style:{verticalAlign:"sub"},children:" Book Frequency "})}),Object(k.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(j.a,{name:"name",disabled:!0,value:null!==E&&void 0!==E&&E.bookFrequency?null===E||void 0===E?void 0:E.bookFrequency:"",fullWidth:!0})})]}),Object(k.jsxs)(d.a,{item:!0,container:!0,spacing:2,children:[Object(k.jsx)(d.a,{item:!0,xs:12,sm:2,children:Object(k.jsx)("label",{style:{verticalAlign:"sub"},children:" No Of Books Allowed "})}),Object(k.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(j.a,{name:"name",disabled:!0,value:(null===E||void 0===E?void 0:E.numberOfBooksAllowed)||"",fullWidth:!0})})]}),Object(k.jsxs)(d.a,{item:!0,container:!0,spacing:2,children:[Object(k.jsx)(d.a,{item:!0,xs:12,sm:2,children:Object(k.jsx)("label",{style:{verticalAlign:"sub"},children:" School Address "})}),Object(k.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(j.a,{name:"name",disabled:!0,value:null===E||void 0===E?void 0:E.address,fullWidth:!0})})]}),Object(k.jsxs)(d.a,{item:!0,container:!0,spacing:2,children:[Object(k.jsx)(d.a,{item:!0,xs:12,sm:2,children:Object(k.jsx)("label",{style:{verticalAlign:"sub"},children:" School Code "})}),Object(k.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(j.a,{name:"name",disabled:!0,value:null===E||void 0===E?void 0:E.pincode,fullWidth:!0})})]}),Object(k.jsxs)(d.a,{item:!0,container:!0,spacing:2,children:[Object(k.jsx)(d.a,{item:!0,xs:12,sm:2,children:Object(k.jsx)("label",{style:{verticalAlign:"sub"},children:"School Status"})}),Object(k.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(j.a,{name:"name",disabled:!0,value:null===E||void 0===E?void 0:E.status,fullWidth:!0})})]})]}),Object(k.jsx)(r.a,{style:{margin:"30px 0px"}}),Object(k.jsx)(p.default,{id:P()})]})})}}}]);
//# sourceMappingURL=21.971c663a.chunk.js.map