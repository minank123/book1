(this["webpackJsonpbookeinstein-app"]=this["webpackJsonpbookeinstein-app"]||[]).push([[46],{1110:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return re}));var a=n(7),i=n(0),o=n(54),c=n(750),r=n(342),l=n(745),s=n(222),d=n(20),u=n(65),b=n(223),j=n(119),p=n(746),h=n(747),g=n(748),m=n(113),O=n(749),v=n(158),f=n(742),x=n(346),y=n(738),C=n(290),w=n.n(C),S=n(26),k=n(288),N=n.n(k),T=n(96),P=n.n(T),A=n(16),I=n(28),F=n(120),E=n.n(F),R=n(38),B=n(21),U=n(85),D=n(43),L=n(740),z=n(898),V=n(741),W=n(899),q=n(343),M=n(900),G=n(945),H=n(34),J=n(64),K=n.n(J),Q=n(140),_=n(921),X=n(11),Y=function(e){return new Promise((function(t,n){Object(X.a)("http://localhost:8102","POST","books-service/parent-categories",e,!0,{"content-type":"multipart/form-data",accept:"*/*"},{}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},Z=function(e,t){return new Promise((function(n,a){Object(X.a)("http://localhost:8102","PUT","books-service/parent-categories/".concat(t),e,!0,{"content-type":"multipart/form-data",accept:"*/*"},{}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},$=n(9),ee=n(1),te=[{id:0,status:"ACTIVE"},{id:1,status:"INACTIVE"}],ne=R.d({title:R.f("Enter Title").required("Title is required").trim(),description:R.f().optional().trim(),status:R.f("Choose Status").required("Status is required")});function ae(e){var t=Object(i.useState)(null),n=Object(a.a)(t,2),o=n[0],c=n[1],r=e.isOpen,l=e.setOpen,s=e.isEditData,u=Object(i.useState)(),b=Object(a.a)(u,2),p=b[0],h=b[1],g=Object(Q.a)(),m=Object(B.b)(),O={title:(null===s||void 0===s?void 0:s.title)||"",description:(null===s||void 0===s?void 0:s.description)||"",status:(null===s||void 0===s?void 0:s.status)||"ACTIVE"},f=Object(D.f)({mode:"onChange",resolver:Object(U.a)(ne),defaultValues:O}),x=f.reset,y=f.handleSubmit,C=function(){l(!1),x()},w=function(e){var t;h(URL.createObjectURL(e.target.files[0])),c(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.files[0])};return Object(i.useEffect)((function(){m(Object(G.c)())}),[]),Object(i.useEffect)((function(){s&&(h(s.imageUrl),fetch(null===s||void 0===s?void 0:s.imageUrl,{mode:"no-cors"}).then(function(){var e=Object(I.a)(Object(A.a)().mark((function e(t){var n,a;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.headers.get("content-type"),e.next=3,t.blob();case 3:a=e.sent,new File([a],"updatedImage.jpg",{contentType:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[]),Object(ee.jsx)("div",{children:Object(ee.jsxs)(L.a,{open:r,classes:{paper:g.dialog},children:[Object(ee.jsx)(z.a,{className:g.dialogTitle,children:Object(ee.jsxs)("div",{className:g.dialogTitleChild,children:[Object(ee.jsx)(v.a,{style:{fontSize:"20px"},children:s?"Update Book Parent Category":"Add Book Parent Category"}),Object(ee.jsx)(V.a,{to:"#",onClick:C,children:Object(ee.jsx)(K.a,{className:g.closeIcon})})]})}),Object(ee.jsxs)(H.a,{methods:f,onSubmit:y((function(e){var t={title:null===e||void 0===e?void 0:e.title,description:null===e||void 0===e?void 0:e.description,status:null===e||void 0===e?void 0:e.status},n=new FormData;o&&n.append("image",o),n.append("parentCategoryBody ",JSON.stringify(t)),s?(Z(n,s.id).then((function(e){m(Object(G.c)()),m(Object($.b)(null!==e&&void 0!==e&&e.message?null===e||void 0===e?void 0:e.message:"Book Parent Category updated Successfully"))})).catch((function(e){var t,n;m(Object($.b)(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.message?null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message:"Something Went Wrong"))})),C()):(Y(n).then((function(e){m(Object(G.c)()),m(Object($.b)(null!==e&&void 0!==e&&e.message?null===e||void 0===e?void 0:e.message:"Added Successfully!"))})).catch((function(e){var t,n;console.log(e),m(Object($.b)(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.message?null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message:"Something went wrong!"))})),C())})),children:[Object(ee.jsx)(E.a,{className:g.ScrollHeight,children:Object(ee.jsxs)(W.a,{children:[Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("label",{className:g.label,children:["Book Image ",Object(ee.jsx)("span",{className:g.mandatory,children:"*"})]}),Object(ee.jsxs)("div",{children:[s?Object(ee.jsx)("input",{type:"file",onChange:w,id:"upload",name:"image",accept:"image/*",className:g.imageInput}):Object(ee.jsx)("input",{type:"file",onChange:w,id:"upload",name:"image",accept:"image/*",className:g.imageInput,required:!0}),Object(ee.jsx)("label",{htmlFor:"upload",children:Object(ee.jsx)(_.a,{color:"secondary","aria-label":"upload picture",component:"span",children:Object(ee.jsx)("img",{id:"ImageCover",src:p,className:g.img,style:{height:"200px",width:"200px"}})})}),Object(ee.jsx)("label",{htmlFor:"bookCover"})]})]}),Object(ee.jsx)(d.a,{container:!0,children:Object(ee.jsxs)(d.a,{item:!0,xs:12,children:[Object(ee.jsxs)("label",{children:["Category Title ",Object(ee.jsx)("span",{className:g.mandatory,children:"*"})]}),Object(ee.jsx)(H.d,{name:"title",placeholder:"Title"}),Object(ee.jsx)("br",{})," ",Object(ee.jsx)("br",{}),Object(ee.jsx)("label",{children:" Category Description "}),Object(ee.jsx)(H.d,{name:"description",placeholder:"Description"}),Object(ee.jsx)("br",{})," ",Object(ee.jsx)("br",{}),Object(ee.jsxs)("label",{children:["Status ",Object(ee.jsx)("span",{className:g.mandatory,children:"*"})]}),Object(ee.jsx)(H.c,{name:"status",label:"",children:null===te||void 0===te?void 0:te.map((function(e,t){return Object(ee.jsx)("option",{value:null===e||void 0===e?void 0:e.status,children:null===e||void 0===e?void 0:e.status},t)}))})]})})]})}),Object(ee.jsx)(q.a,{style:{marginTop:15}}),Object(ee.jsxs)(M.a,{className:g.dialogAction,children:[Object(ee.jsx)(j.a,{variant:"outlined",color:"secondary",className:g.buttonCancel,onClick:C,children:"Close"}),Object(ee.jsx)(j.a,{variant:"contained",color:"secondary",type:"submit",className:g.buttonSubmit,children:s?"Update":"Add"})]})]})]})})}var ie=n(952),oe=n(46),ce=Object(c.a)((function(e){return{root:{"&:nth-of-type(even)":{backgroundColor:e.palette.action.hover}}}}))(l.a);function re(){var e,t=Object(ie.a)();Object(oe.a)({roleList:["ADMIN","SUPER_ADMIN"]});var n=Object(B.b)(),c=Object(r.a)(),l=Object(i.useState)(0),C=Object(a.a)(l,2),k=C[0],T=C[1],A=Object(i.useState)(25),I=Object(a.a)(A,2),F=I[0],E=I[1],R=Object(i.useState)([]),U=Object(a.a)(R,2),D=(U[0],U[1],Object(i.useState)("")),L=Object(a.a)(D,2),z=L[0],V=L[1],W=Object(i.useState)(!1),q=Object(a.a)(W,2),M=q[0],H=q[1],J=Object(i.useState)(null),K=Object(a.a)(J,2),Q=K[0],_=K[1],X=Object(B.c)((function(e){return null===e||void 0===e?void 0:e.category})).allParentCategories;return Object(i.useEffect)((function(){n(Object(G.c)(F,z||"",k+1))}),[F,z,k]),Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)(o.a,{children:[Object(ee.jsxs)("div",{className:t.titleContainer,children:[Object(ee.jsx)(P.a,{className:t.viewIcon}),Object(ee.jsx)("span",{className:t.pageTitle,children:"\xa0 All Parents Categories "})]}),Object(ee.jsxs)(s.a,{elevation:5,className:t.root,children:[Object(ee.jsxs)(d.a,{container:!0,spacing:3,style:{display:"flex",justifyContent:"space-between"},children:[Object(ee.jsx)(d.a,{item:!0,xs:12,sm:6,md:6,children:Object(ee.jsx)("div",{children:Object(ee.jsx)(u.a,{className:t.searchControl,id:"input-search-header",onChange:function(e){return function(e){V(e.target.value)}(e)},placeholder:"Search",startAdornment:Object(ee.jsx)(b.a,{position:"start",children:Object(ee.jsx)(S.U,{stroke:1.5,size:"1rem",className:t.startAdornment})})})})}),Object(ee.jsx)(d.a,{item:!0,xs:12,sm:6,md:6,children:Object(ee.jsx)("div",{className:t.btn,children:Object(ee.jsxs)(j.a,{variant:"contained",color:"primary",className:t.btnAddParent,onClick:function(){H(!0),_(null)},children:[Object(ee.jsx)(w.a,{})," New"]})})})]}),Object(ee.jsx)(p.a,{className:t.tableContainer,children:Object(ee.jsxs)(h.a,{className:t.table,"aria-label":"simple table",children:[Object(ee.jsx)(g.a,{className:t.tableHeaderCell,children:Object(ee.jsxs)(ce,{children:[Object(ee.jsx)(m.a,{children:" Title"}),Object(ee.jsx)(m.a,{align:"center",children:"Status"}),Object(ee.jsx)(m.a,{align:"right",children:" Action "})]})}),X?Object(ee.jsx)(O.a,{children:null===X||void 0===X||null===(e=X.content)||void 0===e?void 0:e.map((function(e){return Object(ee.jsxs)(ce,{children:[Object(ee.jsx)(m.a,{children:null===e||void 0===e?void 0:e.title}),Object(ee.jsx)(m.a,{align:"center",children:Object(ee.jsx)(v.a,{className:t.status,style:{backgroundColor:"ACTIVE"===(null===e||void 0===e?void 0:e.status)&&c.palette.success.main||"PENDING"===(null===e||void 0===e?void 0:e.status)&&"blue"||"INACTIVE"===(null===e||void 0===e?void 0:e.status)&&c.palette.warning.dark},children:null===e||void 0===e?void 0:e.status})}),Object(ee.jsx)(m.a,{align:"right",children:Object(ee.jsx)(f.a,{title:"Update Parent Category",children:Object(ee.jsx)(x.a,{onClick:function(){return t=e,H(!0),void _(t);var t},children:Object(ee.jsx)(N.a,{color:"primary",style:{cursor:"pointer"}})})})})]},null===e||void 0===e?void 0:e.id)}))}):Object(ee.jsx)("caption",{style:{textAlign:"center"},children:"Sorry! No data available"})]})}),Object(ee.jsx)(y.a,{rowsPerPageOptions:[25,50,100],component:"div",count:(null===X||void 0===X?void 0:X.totalElements)||0,rowsPerPage:F,page:k,onPageChange:function(e,t){T(t)},onRowsPerPageChange:function(e){E(+e.target.value)},sx:{".MuiTablePagination-displayedRows":{marginBottom:0},".MuiTablePagination-selectLabel":{marginBottom:0}}})]}),M&&Object(ee.jsx)(ae,{isOpen:M,setOpen:H,isEditData:Q})]})})}},945:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n(11),i=n(9),o=n(5),c=function(e){return{type:o.Rb,error:e}},r=function(e){return{type:o.P,error:e}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(r){r({type:o.Sb});try{Object(a.a)("http://localhost:8102","GET","books-service/parent-categories?searchKey=".concat(t,"&pageNumber=").concat(n,"&pageSize=").concat(e),!0).then((function(e){r(function(e){return{type:o.Tb,payload:e}}({allParentCategories:e}))})).catch((function(e){r(c(e)),r(Object(i.b)(null===e||void 0===e?void 0:e.message))}))}catch(l){r(c("Something went wrong"))}}},s=function(e,t){return function(n){try{Object(a.a)("http://localhost:8102","POST","books-service/categories",e,!0).then((function(e){n(Object(i.b)(null===e||void 0===e?void 0:e.message)),t&&t(e)})).catch((function(e){var t;console.log(e),n(Object(i.b)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message))}))}catch(o){console.log(o)}}},d=function(e,t,n){return function(o){try{Object(a.a)("http://localhost:8102","PUT","books-service/categories/".concat(t),e,!0).then((function(e){e&&(o(Object(i.b)(null===e||void 0===e?void 0:e.message)),n&&n(e))})).catch((function(e){var t;console.log(e),o(Object(i.b)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message))}))}catch(c){console.log(c)}}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(c){c({type:o.Q});try{Object(a.a)("http://localhost:8102","GET","books-service/categories?searchKey=".concat(t,"&pageNumber=").concat(n,"&pageSize=").concat(e),!0).then((function(e){c(function(e){return{type:o.R,payload:e}}({allSubCategories:e}))})).catch((function(e){c(r(e)),c(Object(i.b)(null===e||void 0===e?void 0:e.message))}))}catch(l){c(r("Something went wrong"))}}}},952:function(e,t,n){"use strict";var a=n(3),i=n(139);t.a=Object(i.a)((function(e){var t;return{table:{minWidth:650},tableContainer:{borderRadius:15,marginTop:16},tableHeaderCell:{fontWeight:"lighter",backgroundColor:e.palette.primary.light,color:"#ffffff"},status:{fontWeight:"lighter",fontSize:"0.75rem",color:"white",backgroundColor:"gray",borderRadius:8,padding:"3px 10px",display:"inline-block"},root:{padding:16,width:"100%"},titleContainer:{background:e.palette.primary.main,padding:10,borderRadius:8,marginBottom:20},pageTitle:{fontSize:16,color:e.palette.background.paper,fontWeight:"lighter"},btnAddParent:{cursor:"pointer",boxShadow:"0 0.5em 0.5em 0.1em #68c2d9"},viewIcon:{verticalAlign:"sub",background:"tranparent",color:"#fff"},searchControl:(t={width:"234px",marginLeft:"16px",paddingRight:"16px",paddingLeft:"16px","& input":{background:"transparent !important",paddingLeft:"5px !important"}},Object(a.a)(t,e.breakpoints.down("lg"),{width:"250px"}),Object(a.a)(t,e.breakpoints.down("md"),{width:"100%",marginLeft:"4px",background:"#fff"}),t),startAdornment:{fontSize:"1rem",color:e.palette.grey[500]},mandatory:{color:e.palette.error.main},buttonSubmit:{height:40,width:100,marginRight:10},buttonCancel:{height:40,width:100},dialog:Object(a.a)({position:"absolute"},e.breakpoints.down("xs"),{width:"80vw"}),dialogAction:{justifyContent:"right",marginRight:10,marginBottom:10,marginTop:10},closeIcon:{color:"#FFFFFF",marginBottom:"-5px",cursor:"pointer"},dialogTitle:{backgroundColor:e.palette.secondary.main,color:"#FFFFFF",marginBottom:20},dialogTitleChild:{display:"flex",justifyContent:"space-between"},btn:Object(a.a)({display:"flex",justifyContent:"flex-end"},e.breakpoints.down("sm"),{justifyContent:"center"})}}))}}]);
//# sourceMappingURL=46.557b1d89.chunk.js.map