{"version":3,"sources":["views/books/AllDeletedBooks/index.js","../node_modules/@material-ui/icons/ArrowUpward.js"],"names":["StyledTableRow","withStyles","theme","root","backgroundColor","palette","action","hover","TableRow","AllDeletedBooks","_allBooks$content","useUserRole","roleList","classes","useStyles","dispatch","useDispatch","useTheme","_useState","useSelector","state","userProfile","loggedUserProfile","useState","_useState2","_slicedToArray","page","setPage","_useState3","_useState4","rowsPerPage","setRowsPerPage","allBooks","books","_useState5","_useState6","isSearchBook","setSearchBook","useEffect","getDeletedBooks","_jsx","_Fragment","children","_jsxs","MainCard","className","titleContainer","pageTitle","Paper","elevation","Grid","container","spacing","item","xs","sm","md","OutlinedInput","searchControl","id","value","onChange","event","target","handleSearchBook","placeholder","startAdornment","InputAdornment","position","IconSearch","stroke","size","TableContainer","tableContainer","Table","table","TableHead","tableHeaderCell","TableCell","align","TableBody","content","map","row","index","_row$imageUrls","src","imageUrls","alt","width","height","title","author","publisher","isbn","shelfId","Typography","status","style","success","main","warning","dark","Tooltip","IconButton","onClick","deleteBooks","ArrowForwardIcon","color","cursor","TablePagination","rowsPerPageOptions","component","count","totalElements","onPageChange","newPage","onRowsPerPageChange","sx","marginBottom","_interopRequireDefault","require","Object","defineProperty","exports","default","_createSvgIcon","_jsxRuntime","_default","jsx","d"],"mappings":"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","file":"static/js/75.7d5898e3.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport { withStyles, useTheme } from '@material-ui/styles';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowUpward';\nimport {\n    Grid,\n    Typography,\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow,\n    Paper,\n    TablePagination,\n    OutlinedInput,\n    InputAdornment,\n    Tooltip,\n    IconButton\n} from '@material-ui/core';\nimport { IconSearch } from '@tabler/icons';\nimport useStyles from './../styles';\nimport useUserRole from '../../../hooks/useUserRole';\n\nimport MainCard from '../../../ui-component/cards/MainCard';\nimport { deleteBooks, getDeletedBooks } from '../../../store/actions/BookActions';\n\nconst StyledTableRow = withStyles((theme) => ({\n    root: {\n        '&:nth-of-type(even)': {\n            backgroundColor: theme.palette.action.hover\n        }\n    }\n}))(TableRow);\nexport default function AllDeletedBooks() {\n    useUserRole({ roleList: ['ADMIN', 'SUPER_ADMIN'] });\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const theme = useTheme();\n    const { loggedUserProfile } = useSelector((state) => state?.userProfile);\n\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(25);\n    const { allBooks } = useSelector((state) => state.books);\n    const [isSearchBook, setSearchBook] = useState('');\n\n    const handleChangePage = (event, newPage) => {\n        setPage(newPage);\n    };\n\n    const handleChangeRowsPerPage = (event) => {\n        setRowsPerPage(+event.target.value);\n    };\n    const handleSearchBook = (event) => {\n        setSearchBook(event.target.value);\n        setPage(0);\n    };\n    const handleActiveBooks = (id) => {\n        const payload = {\n            status: 'ACTIVE'\n        };\n        dispatch(\n            deleteBooks(payload, id, () => {\n                dispatch(getDeletedBooks(isSearchBook ? isSearchBook : '', page + 1, rowsPerPage));\n            })\n        );\n    };\n\n    useEffect(() => {\n        dispatch(getDeletedBooks(isSearchBook ? isSearchBook : '', page + 1, rowsPerPage));\n    }, [rowsPerPage, isSearchBook, page]);\n\n    return (\n        <>\n            <MainCard>\n                <div className={classes.titleContainer}>\n                    <span className={classes.pageTitle}>&nbsp; All Deleted Books </span>\n                </div>\n                <Paper elevation={5} className={classes.root}>\n                    <Grid container spacing={3}>\n                        <Grid item xs={12} sm={6} md={3}>\n                            <OutlinedInput\n                                className={classes.searchControl}\n                                id=\"input-search-header\"\n                                value={isSearchBook}\n                                onChange={(event) => handleSearchBook(event)}\n                                placeholder=\"Search\"\n                                startAdornment={\n                                    <InputAdornment position=\"start\">\n                                        <IconSearch stroke={1.5} size=\"1rem\" className={classes.startAdornment} />\n                                    </InputAdornment>\n                                }\n                            />\n                        </Grid>\n                    </Grid>\n                    <TableContainer className={classes.tableContainer}>\n                        <Table className={classes.table} aria-label=\"simple table\">\n                            <TableHead className={classes.tableHeaderCell}>\n                                <StyledTableRow>\n                                    <TableCell> Cover </TableCell>\n                                    <TableCell> Title </TableCell>\n                                    <TableCell> Author </TableCell>\n                                    <TableCell> Publisher </TableCell>\n                                    <TableCell> Isbn No. </TableCell>\n                                    <TableCell align=\"center\"> Shelf No. </TableCell>\n                                    <TableCell align=\"center\"> Status </TableCell>\n                                    <TableCell align=\"right\"> Action </TableCell>\n                                </StyledTableRow>\n                            </TableHead>\n                            <TableBody>\n                                {allBooks?.content?.map((row, index) => {\n                                    return (\n                                        <StyledTableRow key={row?.id}>\n                                            <TableCell>\n                                                <img src={row?.imageUrls?.[0]} alt=\"book\" width=\"60px\" height={100} />\n                                            </TableCell>\n                                            <TableCell> {row?.title} </TableCell>\n                                            <TableCell> {row?.author} </TableCell>\n                                            <TableCell> {row?.publisher} </TableCell>\n                                            <TableCell> {row?.isbn} </TableCell>\n                                            <TableCell align=\"center\"> {row?.shelfId} </TableCell>\n                                            <TableCell align=\"center\">\n                                                <Typography\n                                                    className={classes.status}\n                                                    style={{\n                                                        backgroundColor:\n                                                            (row?.status === 'ACTIVE' && theme.palette.success.main) ||\n                                                            (row?.status === 'PENDING' && 'blue') ||\n                                                            (row?.status === 'INACTIVE' && theme.palette.warning.dark)\n                                                    }}\n                                                >\n                                                    {row?.status}\n                                                </Typography>\n                                            </TableCell>\n                                            <TableCell align=\"center\">\n                                                <Tooltip title=\"Restore Book \">\n                                                    <IconButton\n                                                        onClick={() => {\n                                                            handleActiveBooks(row?.id, row);\n                                                        }}\n                                                    >\n                                                        <ArrowForwardIcon color=\"primary\" style={{ cursor: 'pointer' }} />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </TableCell>\n                                        </StyledTableRow>\n                                    );\n                                })}\n                            </TableBody>\n                        </Table>\n                    </TableContainer>\n                    <TablePagination\n                        rowsPerPageOptions={[25, 50, 100]}\n                        component=\"div\"\n                        count={allBooks?.totalElements || 0}\n                        rowsPerPage={rowsPerPage}\n                        page={page}\n                        onPageChange={handleChangePage}\n                        onRowsPerPageChange={handleChangeRowsPerPage}\n                        sx={{\n                            '.MuiTablePagination-displayedRows': {\n                                marginBottom: 0\n                            },\n                            '.MuiTablePagination-selectLabel': {\n                                marginBottom: 0\n                            }\n                        }}\n                    />\n                </Paper>\n            </MainCard>\n        </>\n    );\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z\"\n}), 'ArrowUpward');\n\nexports.default = _default;"],"sourceRoot":""}