(this["webpackJsonpbookeinstein-app"]=this["webpackJsonpbookeinstein-app"]||[]).push([[68],{1013:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return V}));var i=n(16),a=n(28),c=n(7),l=n(3),r=n(0),s=n(38),o=n(34),d=n(43),j=n(85),b=n(9),u=n(139),m=n(21),h=n(1005),O=n.n(h),x=n(745),v=n(119),p=n(20),f=n(158),g=n(343),y=n(65),C=n(746),S=n(747),w=n(748),k=n(113),T=n(749),N=n(724),D=n(97),A=n.n(D),I=n(750),R=n(62),B=n(955),E=n(40),W=n(925),P=n(11),G=function(e,t,n){return new Promise((function(i,a){Object(P.a)("https://prodservice.bookeinstein.com","POST","batches-service/reports/batches/".concat(e,"/profiles/").concat(t),n,!0,{"Content-type":"application/json"}).then((function(e){i(e)})).catch((function(e){a(e)}))}))},L=n(1003),U=n.n(L),z=n(1004),F=n.n(z),J=n(1),M=Object(I.a)((function(e){return{root:{"&:nth-of-type(even)":{backgroundColor:e.palette.action.hover}}}}))(x.a),_=Object(u.a)((function(e){return Object(l.a)({btnSpan:Object(l.a)({width:"100%",marginLeft:"75%"},e.breakpoints.down("md"),{marginLeft:"auto"}),reportCard:{width:"100%",height:"auto",padding:"20px",paddingTop:0,marginTop:0},pdfContent:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",fontSize:"0.875rem",margin:"0 auto",padding:"20px"}},e.breakpoints.down("sm"),{reportCard:{width:"90%"}})})),H=["reportCard"],K=s.d({});function V(e,t){var n,l,s,u,h,x,D,I,P=Object(R.a)(),L=_(),z=e.batch_id,V=e.profile_id,Y=Object(m.b)(),q=Object(m.c)((function(e){return null===e||void 0===e?void 0:e.userProfile})),Q=q.loggedUserProfile,X=(q.loading,Object(r.useState)(!1)),Z=Object(c.a)(X,2),$=Z[0],ee=Z[1],te=Object(E.i)(),ne=te.id,ie=te.profileId,ae=Object(m.c)((function(e){return null===e||void 0===e?void 0:e.report})).reportData,ce=Object(r.useState)(""),le=Object(c.a)(ce,2),re=le[0],se=le[1];z&&V&&(ne=z,ie=V);var oe=Object(d.f)({mode:"onChange",resolver:Object(j.a)(K),defaultValues:{}}),de=(oe.reset,oe.handleSubmit);Object(r.useEffect)((function(){Y(Object(B.b)(ne,ie))}),[]),Object(r.useEffect)((function(){se(null===ae||void 0===ae?void 0:ae.finalComment)}),[null===ae||void 0===ae?void 0:ae.finalComment]);var je=Object(r.useRef)(null);return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(o.a,{methods:oe,onSubmit:de((function(e){if(re){var t={finalComment:re},n=function(){var e=Object(a.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(ne,ie,t).then((function(e){Y(Object(b.b)(null!==e&&void 0!==e&&e.message?null===e||void 0===e?void 0:e.message:"Submitted Successfully!!")),Y(Object(B.b)(ne,ie))})).catch((function(e){var t,n;Y(Object(b.b)(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.message?null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message:"Error !!"))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()}else Y(Object(b.b)("Kindly Fill Out The Comment!"))})),children:Object(J.jsxs)(W.a,{sx:{padding:"16px"},children:["STUDENT"===(null===Q||void 0===Q?void 0:Q.role)&&Object(J.jsx)("span",{className:L.btnSpan,children:Object(J.jsx)(v.a,{sx:{marginBottom:"8px"},variant:"contained",color:"success",startIcon:Object(J.jsx)(O.a,{}),onClick:function(){if(je.current){var e=je.current,t=new F.a("p","mm","a4");U()(e,{scale:1,logging:!0,useCORS:!0}).then((function(e){var n=e.toDataURL("image/jpeg",1),i=t.internal.pageSize.getWidth(),a=e.height*i/e.width;t.addImage(n,"JPEG",0,0,i,a,void 0,"FAST"),t.save("report.pdf")}))}},children:"Download Report Card"})}),Object(J.jsx)("div",{ref:je,className:L.pdfContent,children:Object(J.jsxs)("div",{id:H[0],className:L.reportCard,children:[Object(J.jsxs)("div",{className:P.titleContainer,children:[Object(J.jsx)(A.a,{className:P.viewIcon}),Object(J.jsx)("span",{className:P.pageTitle,children:"\xa0 Report Card "})]}),Object(J.jsx)(p.a,{item:!0,container:!0,style:{marginTop:30,marginBottom:10},children:Object(J.jsx)(p.a,{item:!0,xs:12,children:Object(J.jsx)(f.a,{variant:"h4",children:" Profile Details "})})}),Object(J.jsx)(g.a,{style:{marginBottom:30}}),Object(J.jsxs)(p.a,{container:!0,spacing:4,children:[Object(J.jsxs)(p.a,{item:!0,container:!0,spacing:2,children:[Object(J.jsx)(p.a,{item:!0,xs:12,sm:2,children:Object(J.jsx)("label",{style:{verticalAlign:"sub"},children:" Profile Id "})}),Object(J.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(y.a,{name:"name",disabled:!0,value:null===ae||void 0===ae||null===(n=ae.profile)||void 0===n?void 0:n.profileId,fullWidth:!0})})]}),Object(J.jsxs)(p.a,{item:!0,container:!0,spacing:2,children:[Object(J.jsx)(p.a,{item:!0,xs:12,sm:2,children:Object(J.jsx)("label",{style:{verticalAlign:"sub"},children:" Email "})}),Object(J.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(y.a,{name:"name",disabled:!0,value:null===ae||void 0===ae||null===(l=ae.profile)||void 0===l?void 0:l.email,fullWidth:!0})})]}),Object(J.jsxs)(p.a,{item:!0,container:!0,spacing:2,children:[Object(J.jsx)(p.a,{item:!0,xs:12,sm:2,children:Object(J.jsx)("label",{style:{verticalAlign:"sub"},children:" Mobile "})}),Object(J.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(y.a,{name:"name",disabled:!0,multiline:!0,value:null===ae||void 0===ae||null===(s=ae.profile)||void 0===s?void 0:s.mobile,fullWidth:!0})})]}),Object(J.jsxs)(p.a,{item:!0,container:!0,spacing:2,children:[Object(J.jsx)(p.a,{item:!0,xs:12,sm:2,children:Object(J.jsx)("label",{style:{verticalAlign:"sub"},children:" Name "})}),Object(J.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(y.a,{name:"name",disabled:!0,value:(null===ae||void 0===ae||null===(u=ae.profile)||void 0===u?void 0:u.firstName)+" "+(null===ae||void 0===ae||null===(h=ae.profile)||void 0===h?void 0:h.lastName),fullWidth:!0})})]})]}),Object(J.jsx)(p.a,{item:!0,container:!0,style:{marginTop:40,marginBottom:10},children:Object(J.jsx)(p.a,{item:!0,xs:12,children:Object(J.jsx)(f.a,{variant:"h4",children:" Batch Details "})})}),Object(J.jsx)(g.a,{style:{marginBottom:30}}),Object(J.jsxs)(p.a,{container:!0,spacing:4,children:[Object(J.jsxs)(p.a,{item:!0,container:!0,spacing:2,children:[Object(J.jsx)(p.a,{item:!0,xs:12,sm:2,children:Object(J.jsx)("label",{style:{verticalAlign:"sub"},children:" Batch Id "})}),Object(J.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(y.a,{name:"name",disabled:!0,value:null===ae||void 0===ae||null===(x=ae.batch)||void 0===x?void 0:x.id,fullWidth:!0})})]}),Object(J.jsxs)(p.a,{item:!0,container:!0,spacing:2,children:[Object(J.jsx)(p.a,{item:!0,xs:12,sm:2,children:Object(J.jsx)("label",{style:{verticalAlign:"sub"},children:" Start Date/Time "})}),Object(J.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(y.a,{name:"name",disabled:!0,value:new Date(null===ae||void 0===ae||null===(D=ae.batch)||void 0===D?void 0:D.startDateTime).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),fullWidth:!0})})]}),Object(J.jsxs)(p.a,{item:!0,container:!0,spacing:2,children:[Object(J.jsx)(p.a,{item:!0,xs:12,sm:2,children:Object(J.jsx)("label",{style:{verticalAlign:"sub"},children:" Status "})}),Object(J.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(y.a,{name:"name",disabled:!0,value:null===ae||void 0===ae||null===(I=ae.batch)||void 0===I?void 0:I.status,fullWidth:!0})})]}),Object(J.jsx)(g.a,{style:{marginTop:"24px",borderColor:"darkgray"}}),Object(J.jsxs)(p.a,{item:!0,container:!0,spacing:2,children:[Object(J.jsx)(p.a,{item:!0,xs:12,sm:2,children:Object(J.jsx)("label",{style:{verticalAlign:"sub"},children:" Remark "})}),Object(J.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(y.a,{id:"remark",name:"remark",multiline:!0,maxRows:5,value:re,fullWidth:!0,disabled:!$,onChange:function(e){return se(e.target.value)}})}),"STUDENT"!==(null===Q||void 0===Q?void 0:Q.role)&&Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(p.a,{item:!0,sm:2,children:Object(J.jsx)(N.a,{color:"primary",fontSize:"small",onClick:function(){return ee(!0)},style:{cursor:"pointer"}})}),Object(J.jsx)(p.a,{item:!0,sm:2,children:Object(J.jsx)(v.a,{variant:"contained",type:"submit",color:"primary",children:"Save Changes"})})]})]})]}),Object(J.jsx)(p.a,{item:!0,container:!0,style:{marginTop:40,marginBottom:10},children:Object(J.jsx)(p.a,{item:!0,xs:12,children:Object(J.jsx)(f.a,{variant:"h4",children:" Report Details "})})}),Object(J.jsx)(g.a,{style:{marginBottom:30,borderColor:"darkgray"}}),Object(J.jsx)(C.a,{className:P.tableContainer,children:Object(J.jsxs)(S.a,{className:P.table,"aria-label":"simple table",children:[Object(J.jsx)(w.a,{className:P.tableHeaderCell,children:Object(J.jsxs)(M,{children:[Object(J.jsx)(k.a,{children:" Assignment Title "}),Object(J.jsx)(k.a,{align:"center",children:" Grade "}),Object(J.jsx)(k.a,{align:"center",children:" Include In Report "}),Object(J.jsx)(k.a,{align:"center",children:" Comment "})]})}),null!==ae&&void 0!==ae&&ae.assignmentGrade?Object(J.jsx)(T.a,{children:null===ae||void 0===ae?void 0:ae.assignmentGrade.map((function(e){return Object(J.jsxs)(M,{children:[Object(J.jsxs)(k.a,{children:[" ",null===e||void 0===e?void 0:e.assignmentTile," "]}),Object(J.jsxs)(k.a,{align:"center",children:[" ",null===e||void 0===e?void 0:e.grade," "]}),Object(J.jsxs)(k.a,{align:"center",children:[" ",1==(null===e||void 0===e?void 0:e.includeInReport)?"Yes":"No"," "]}),Object(J.jsxs)(k.a,{align:"center",children:[" ",null===e||void 0===e?void 0:e.feedback," "]})]},e.id)}))}):Object(J.jsx)("caption",{style:{textAlign:"center"},children:" Sorry! No data available "})]})})]})})]})})})}},955:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));var i=n(11),a=n(9),c=n(5),l=function(e){return{type:c.Le,error:e}},r=function(e){return{type:c.sc,error:e}},s=function(e,t,n){return function(r){r({type:c.Me});try{Object(i.a)("https://prodservice.bookeinstein.com","GET","batches-service/reports/batches/".concat(e,"/profiles/").concat(t),!0).then((function(e){r(function(e){return{type:c.Ne,payload:e}}({reportData:e})),n&&n(e)})).catch((function(e){r(l(e)),r(Object(a.b)(null===e||void 0===e?void 0:e.message))}))}catch(s){r(l("Something went wrong"))}}},o=function(e){return function(t){t({type:c.tc});try{Object(i.a)("https://prodservice.bookeinstein.com","GET","batches-service/reports/batches/".concat(e,"?pageNumber=1&pageSize=20"),!0).then((function(e){t(function(e){return{type:c.uc,payload:e}}({allReportData:e}))})).catch((function(e){t(r(e)),t(Object(a.b)(null===e||void 0===e?void 0:e.message))}))}catch(n){t(r("Something went wrong"))}}}}}]);
//# sourceMappingURL=68.b37e8c64.chunk.js.map