(this["webpackJsonpbookeinstein-app"]=this["webpackJsonpbookeinstein-app"]||[]).push([[72],{1140:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return de}));var n=a(16),i=a(4),c=a(28),o=a(7),l=a(3),r=a(0),s=a(54),d=a(173),j=a(750),b=a(139),u=a(745),O=a(222),x=a(20),h=a(65),v=a(223),m=a(119),p=a(746),f=a(747),g=a(748),y=a(113),k=a(749),C=a(910),N=a(346),S=a(738),D=a(26),w=a(289),I=a.n(w),T=a(984),A=a.n(T),P=a(290),L=a.n(P),M=a(205),R=a.n(M),q=a(21),F=a(69),H=a(175),z=a(40),B=a(46),E=a(740),_=a(898),U=a(158),W=a(741),Q=a(899),V=a(888),J=a(908),X=a(909),Y=a(343),G=a(900),K=a(43),Z=a(64),$=a.n(Z),ee=a(140),te=a(120),ae=a.n(te),ne=a(34),ie=a(228),ce=a.n(ie),oe=a(1);function le(e){var t,a=e.isOpen,n=e.setOpen,i=e.profileId,c=e.isData,l=Object(ee.a)(),s=Object(q.b)(),d=Object(z.g)(),j=Object(r.useState)(""),b=Object(o.a)(j,2),u=b[0],O=b[1],h=Object(r.useState)(""),v=Object(o.a)(h,2),p=v[0],f=v[1],g=function(){n(!1)},y=localStorage.getItem("schoolName"),k=Object(K.f)(),C=k.handleSubmit,N=null===c||void 0===c||null===(t=c.content)||void 0===t?void 0:t.map((function(e){var t;return Object(oe.jsx)("li",{children:"".concat(null===e||void 0===e||null===(t=e.bookDetail)||void 0===t?void 0:t.title," (").concat(null===e||void 0===e?void 0:e.quantity,")")},null===e||void 0===e?void 0:e.id)}));return Object(oe.jsxs)(E.a,{open:a,classes:{paper:l.dialog},children:[Object(oe.jsx)(_.a,{className:l.dialogTitle,children:Object(oe.jsxs)("div",{className:l.dialogTitleChild,children:[Object(oe.jsx)(U.a,{style:{fontSize:"20px"},children:"Check Out"}),Object(oe.jsx)(W.a,{to:"#",onClick:g,children:Object(oe.jsx)($.a,{className:l.closeIcon})})]})}),Object(oe.jsxs)(ne.a,{methods:k,onSubmit:C((function(){var e=p.split("-").reverse().join("-"),t=u.split("-").reverse().join("-");s(Object(H.i)(i,e,t)),d.push("/admin/carts"),n(!1)})),children:[Object(oe.jsx)(ae.a,{className:l.ScrollHeight,children:Object(oe.jsx)(Q.a,{children:Object(oe.jsx)(x.a,{container:!0,children:Object(oe.jsxs)(x.a,{item:!0,xs:12,children:[Object(oe.jsxs)("label",{children:["Profile ID ",Object(oe.jsx)("span",{className:l.mandatory,children:" *"})]}),Object(oe.jsx)(K.a,{name:"profileId",control:k.control,defaultValue:i,render:function(e){var t=e.field;return Object(oe.jsx)(ne.d,{name:t.name,className:l.textField,autoFocus:!0,disabled:!0})}}),Object(oe.jsx)("br",{})," ",Object(oe.jsx)("br",{}),Object(oe.jsx)("label",{children:" No. Of Books "}),Object(oe.jsx)(K.a,{name:"bookQuantity",control:k.control,defaultValue:null===c||void 0===c?void 0:c.numberOfElements,render:function(e){var t=e.field;return Object(oe.jsx)(ne.d,{name:t.name,className:l.textField,disabled:!0})}}),Object(oe.jsx)("br",{}),Object(oe.jsx)("br",{}),Object(oe.jsxs)(V.a,{children:[Object(oe.jsx)(J.a,{expandIcon:Object(oe.jsx)(ce.a,{}),"aria-controls":"book-details-content",id:"book-details-header",children:Object(oe.jsx)("label",{children:"Book Details"})}),Object(oe.jsx)(X.a,{children:Object(oe.jsx)(K.a,{name:"bookDetails",control:k.control,render:function(e){e.field;return Object(oe.jsx)("div",{style:{maxHeight:"300px",overflowY:"auto",overflowX:"auto"},children:Object(oe.jsx)("ul",{children:N})})}})})]}),Object(oe.jsx)("label",{children:" School Name "}),Object(oe.jsx)(K.a,{name:"schoolName",control:k.control,defaultValue:y,render:function(e){var t=e.field;return Object(oe.jsx)(ne.d,{name:t.name,onChange:t.onChange,value:t.value,className:l.textField,disabled:!0})}}),Object(oe.jsx)("br",{}),Object(oe.jsx)("br",{}),Object(oe.jsxs)("label",{children:["Delivery Date ",Object(oe.jsx)("span",{className:l.mandatory,children:"*"})]}),Object(oe.jsx)(ne.d,{name:"deliveryDate",type:"date",className:l.textField,onChange:function(e){f(e.target.value)}}),Object(oe.jsx)("br",{}),Object(oe.jsx)("br",{}),Object(oe.jsxs)("label",{children:["Next Delivery Date ",Object(oe.jsx)("span",{className:l.mandatory,children:"*"})]}),Object(oe.jsx)(ne.d,{name:"nextDeliveryDate",type:"date",className:l.textField,onChange:function(e){O(e.target.value)}}),Object(oe.jsx)("br",{}),Object(oe.jsx)("br",{})]})})})}),Object(oe.jsx)(Y.a,{style:{marginTop:15}}),Object(oe.jsxs)(G.a,{className:l.dialogAction,children:[Object(oe.jsx)(m.a,{variant:"outlined",color:"secondary",className:l.buttonCancel,onClick:g,children:"Close"}),Object(oe.jsx)(m.a,{variant:"contained",color:"primary",type:"submit",className:l.buttonSubmit,children:"Submit"})]})]})]})}var re=Object(j.a)((function(e){return{root:{"&:nth-of-type(even)":{backgroundColor:e.palette.action.hover}}}}))(u.a),se=Object(b.a)((function(e){var t;return{table:{minWidth:650},tableContainer:{borderRadius:15,marginTop:16},tableHeaderCell:{fontWeight:"lighter",backgroundColor:e.palette.primary.light,color:"#ffffff"},status:{fontWeight:"lighter",fontSize:"0.75rem",color:"white",backgroundColor:"gray",borderRadius:8,padding:"3px 10px",display:"inline-block"},root:{padding:16,width:"100%"},btn:{cursor:"pointer",boxShadow:"0 0.5em 0.5em 0.1em #68c2d9",marginLeft:20},titleContainer:{background:e.palette.primary.main,padding:10,borderRadius:8,marginBottom:20},pageTitle:{fontSize:16,color:e.palette.background.paper,fontWeight:"lighter"},viewIcon:{verticalAlign:"sub",background:"tranparent",color:"#fff"},searchControl:(t={width:"234px",marginLeft:"16px",paddingRight:"16px",paddingLeft:"16px","& input":{background:"transparent !important",paddingLeft:"5px !important"}},Object(l.a)(t,e.breakpoints.down("lg"),{width:"250px"}),Object(l.a)(t,e.breakpoints.down("md"),{width:"100%",marginLeft:"4px",background:"#fff"}),t),startAdornment:{fontSize:"1rem",color:e.palette.grey[500]}}}));function de(){var e,t,a,l=se();Object(B.a)({roleList:["ADMIN","SCHOOL_ADMIN","SUPER_ADMIN"]});var j=Object(q.b)(),b=Object(z.i)(),u=b.id,w=b.role,T=Object(z.g)(),P=Object(r.useState)(""),M=Object(o.a)(P,2),E=M[0],_=M[1],U=Object(r.useState)(0),W=Object(o.a)(U,2),Q=W[0],V=W[1],J=Object(r.useState)(25),X=Object(o.a)(J,2),Y=X[0],G=X[1],K=Object(r.useState)(!1),Z=Object(o.a)(K,2),$=(Z[0],Z[1]),ee=Object(r.useState)(!1),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],ie=Object(q.c)((function(e){return null===e||void 0===e?void 0:e.cart})).getCartData,ce=Object(r.useState)(""),de=Object(o.a)(ce,2),je=de[0],be=(de[1],Object(r.useState)("")),ue=Object(o.a)(be,2),Oe=ue[0],xe=(ue[1],Object(r.useState)({isOpen:!1,title:"",subTitle:""})),he=Object(o.a)(xe,2),ve=he[0],me=he[1],pe=Object(r.useState)(!1),fe=Object(o.a)(pe,2),ge=fe[0],ye=fe[1],ke=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t,a){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$(!0),j(Object(F.c)(t,a,(function(){j(Object(F.e)(u)),$(!1)}))),me(Object(i.a)(Object(i.a)({},ve),{},{isOpen:!1})),$(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){j(Object(F.e)(u,E||"",Q+1,Y))}),[E,Q,Y]),Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(s.a,{children:[Object(oe.jsxs)("div",{className:l.titleContainer,children:[Object(oe.jsx)(R.a,{className:l.viewIcon}),Object(oe.jsx)("span",{className:l.pageTitle,children:"\xa0 Cart Details "})]}),Object(oe.jsxs)(O.a,{elevation:5,className:l.root,children:[Object(oe.jsxs)(x.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(oe.jsx)("div",{children:Object(oe.jsx)(h.a,{className:l.searchControl,id:"input-search-header",onChange:function(e){return _(e.target.value)},placeholder:"Search",startAdornment:Object(oe.jsx)(v.a,{position:"start",children:Object(oe.jsx)(D.U,{stroke:1.5,size:"1rem",className:l.startAdornment})})})}),"SCHOOL_ADMIN"===w&&Object(oe.jsx)("div",{children:Object(oe.jsx)(m.a,{variant:"contained",color:"primary",onClick:function(){ye(!0)},className:l.btn,disabled:0===(null===ie||void 0===ie||null===(e=ie.content)||void 0===e?void 0:e.length),children:"Check Out"})}),"STUDENT"===w&&Object(oe.jsxs)("div",{children:[Object(oe.jsx)(m.a,{variant:"contained",color:"primary",className:l.btn,onClick:function(){T.push("/admin/book-collection/".concat(u).concat(w?"/".concat(w):""))},children:"Add Book"}),Object(oe.jsx)(m.a,{variant:"contained",color:"primary",onClick:function(){return $(!0),j(Object(H.i)(u,Oe,je)),T.push("/admin/carts"),void $(!1)},className:l.btn,disabled:0==(null===ie||void 0===ie||null===(t=ie.content)||void 0===t?void 0:t.length),children:"Checkout"})]})]}),Object(oe.jsx)(p.a,{className:l.tableContainer,children:Object(oe.jsxs)(f.a,{className:l.table,"aria-label":"simple table",children:[Object(oe.jsx)(g.a,{className:l.tableHeaderCell,children:Object(oe.jsxs)(re,{children:[Object(oe.jsx)(y.a,{children:" Cover "}),Object(oe.jsx)(y.a,{children:" Title "}),Object(oe.jsx)(y.a,{align:"center",children:" Total Quantity "}),Object(oe.jsx)(y.a,{align:"center",children:" Quantity "}),Object(oe.jsx)(y.a,{align:"right",children:" Action "})]})}),null!==ie&&void 0!==ie&&ie.content?Object(oe.jsx)(k.a,{children:null===ie||void 0===ie||null===(a=ie.content)||void 0===a?void 0:a.map((function(e){var t,a;return Object(oe.jsxs)(re,{children:[Object(oe.jsx)(y.a,{children:Object(oe.jsx)("img",{src:null===e||void 0===e||null===(t=e.bookDetail)||void 0===t?void 0:t.imageUrls,alt:"book image",width:"60px"})}),Object(oe.jsxs)(y.a,{children:[" ",null===e||void 0===e||null===(a=e.bookDetail)||void 0===a?void 0:a.title," "]}),Object(oe.jsxs)(y.a,{align:"center",children:[" ",(null===e||void 0===e?void 0:e.quantity)>=1?null===e||void 0===e?void 0:e.quantity:1," "]}),Object(oe.jsx)(y.a,{align:"center",children:Object(oe.jsxs)(C.a,{color:"primary","aria-label":"outlined primary button group",children:[Object(oe.jsx)(m.a,{onClick:function(){var t;return function(e,t,a){$(!0),ne(!0);var n={bookId:t,quantity:-1};a>1&&setTimeout((function(){j(Object(F.f)(n,e,(function(){j(Object(F.e)(u)),$(!1),ne(!1)})))}),500)}(null===e||void 0===e?void 0:e.cartId,null===e||void 0===e||null===(t=e.bookDetail)||void 0===t?void 0:t.id,null===e||void 0===e?void 0:e.quantity)},disabled:(null===e||void 0===e?void 0:e.quantity)<2||ae,children:Object(oe.jsx)(A.a,{})}),Object(oe.jsx)(m.a,{onClick:function(){var t;return function(e,t){$(!0);var a={bookId:t,quantity:1};j(Object(F.f)(a,e,(function(){j(Object(F.e)(u)),$(!1)})))}(null===e||void 0===e?void 0:e.cartId,null===e||void 0===e||null===(t=e.bookDetail)||void 0===t?void 0:t.id)},children:Object(oe.jsx)(L.a,{})})]})}),Object(oe.jsx)(y.a,{align:"right",children:Object(oe.jsx)(N.a,{onClick:function(){me({isOpen:!0,title:"Delete Cart",subTitle:"Are you sure you want to delete this book.",onConfirm:function(){var t;ke(null===e||void 0===e?void 0:e.cartId,null===e||void 0===e||null===(t=e.bookDetail)||void 0===t?void 0:t.id)}})},children:Object(oe.jsx)(I.a,{color:"error",style:{cursor:"pointer"}})})})]},null===e||void 0===e?void 0:e.id)}))}):Object(oe.jsx)("caption",{style:{textAlign:"center"},children:"Sorry! No data available"})]})}),Object(oe.jsx)(S.a,{rowsPerPageOptions:[25,50,100],component:"div",count:(null===ie||void 0===ie?void 0:ie.totalElements)||0,rowsPerPage:Y,page:Q,onPageChange:function(e,t){V(t)},onRowsPerPageChange:function(e){G(+e.target.value)},sx:{".MuiTablePagination-displayedRows":{marginBottom:0},".MuiTablePagination-selectLabel":{marginBottom:0}}})]}),ge&&Object(oe.jsx)(le,{isOpen:ge,setOpen:ye,profileId:u,isData:ie}),ve&&Object(oe.jsx)(d.a,{confirmDialog:ve,setConfirmDialog:me})]})})}},984:function(e,t,a){"use strict";var n=a(45);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(50)),c=a(1),o=(0,i.default)((0,c.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");t.default=o}}]);
//# sourceMappingURL=72.2765d015.chunk.js.map